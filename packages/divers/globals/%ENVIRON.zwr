GT.M MUPIP EXTRACT UTF-8
12-JAN-2017  13:54:13 ZWR
^%ENVIRON("ANADEX","CADRE")="D @(""CADRE""_$C(94)_""%EDCI350"")^TRACE LE CADRE DE LA FENETRE^^^^^^^^^"
^%ENVIRON("ANADEX","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF2"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("ANADEX","CLEAR")="U %PORT W *27 W *27,*91,"" ? 7 l"" W *27,*91,"" 0 ""_""""""""_"" z"" D @($C(94)_""%EDCEDIT""),@(""CLEAR""_$C(94)_""%EDCI350"") W *27,*91,"" ? 7 h""^edite le global intermediaire^Remet l'imprimante en etat standard^^^^^^^^"
^%ENVIRON("ANADEX","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("ANADEX","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("ANADEX","GRAPHIQUE")="U %PORT W *27,*80,"" 9 q"" U %PORT W ""-"" W *24^Saut de ligne pour trait verticaux^^^^^^^^^"
^%ENVIRON("ANADEX","INIT")="K @($C(94)_""PAGE(""_$J_"")""),ENVL(%TERM) S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1,%PAGE=0^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("ANADEX","INIT.TEXTE")="S %9X=1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S %PAGE=0^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("ANADEX","MOUV.TEXTE")="N X S X=%9X D @(""CLEAR""_$C(94)_""%EDCI350"") U %PORT W *27,*91,"" ""_X_"" `""^Deplacement du curseur sur 1 ligne^^^^^^^^^"
^%ENVIRON("ANADEX","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir^PTPLANNI pour + de details^^^^^^"
^%ENVIRON("ANADEX","POSER")="S ENVL(%TERM,""CRAYON"")=""RIEN""^Laisser le crayon^^^^^^^^^"
^%ENVIRON("ANADEX","PRINTER")="U %PORT W *27 W *27,*91,"" ? 7 l"" W *27,*91,"" 0 ""_""""""""_"" z"" D @($C(94)_""%EDCEDIT""),@(""CLEAR""_$C(94)_""%EDCI350"") W *27,*91,"" ? 7 h""^edite le global intermediaire^Remet l'imprimante en etat standard^^^^^^^^"
^%ENVIRON("ANADEX","QUARTIER")="D @($C(94)_""%PBP2QU"")^Dessine un quartier de disque.^%9X,%9Y coordonnes du centre du cercle^%9R     rayon du cercle^%9AD    angle de depart^%9AF    angle de fin^^^^^"
^%ENVIRON("ANADEX","SEGMENT")="D @(""GRAPH""_$C(94)_""%EDCI350"")^Trace un segment dans un environnement graphique non laser^^^^^^^^^"
^%ENVIRON("ANADEX","SEGMENT.TEXTE")="D @(""GRAPH""_$C(94)_""%EDCI350"")^Trace un segment dans un environnement graphique non laser^^^^^^^^^"
^%ENVIRON("ANADEX","TAILLE.TEXTE")="D @($C(94)_""%EDCI350"")^Recherche de la police de caractere^^^^^^^^^"
^%ENVIRON("ANADEX","TEXT")="D @(""PLACER""_$C(94)_""%EDCI350"")^Impression de texte a la position du curseur^Imprimante non laser^^^^^^^^"
^%ENVIRON("ANADEX","TEXTE")="U %PORT W %9STR^Impression de texte a la position du curseur^Imprimante non laser^^^^^^^^"
^%ENVIRON("ANADEX","TRAIT.HORIZONTAL")="U %PORT W *27,*80,"" 9 q"" W "" ! ""_%LG_"" ""_$S(%9EPA'<1:""~"",%9EPA'<.5:""]"",1:""K"") U %PORT W *27 D @(""CLEAR""_$C(94)_""%EDCI350"")^Trace un trait horizontal^^^^^^^^^"
^%ENVIRON("ANADEX","TRAIT.VERTICAL")="W *27,*80,"" 9 q"" W "" ! ""_$S(%9EPA>1:6,%9EPA>.5:4,1:2)_"" ~"" W *24^Trace un trait vertical^^^^^^^^^"
^%ENVIRON("CI-3500","CADRE")="D @(""CADRE""_$C(94)_""%EDCI350"")^TRACE LE CADRE DE LA FENETRE^^^^^^^^^"
^%ENVIRON("CI-3500","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF2"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("CI-3500","CLEAR")="U %PORT W *27 W *27,*91,"" ? 7 l"" W *27,*91,"" 0 ""_""""""""_"" z"" D @($C(94)_""%EDCEDIT""),@(""CLEAR""_$C(94)_""%EDCI350"") W *27,*91,"" ? 7 h""^edite le global intermediaire^Remet l'imprimante en etat standard^^^^^^^^"
^%ENVIRON("CI-3500","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("CI-3500","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("CI-3500","GRAPHIQUE")="U %PORT W *27,*80,"" 9 q"" U %PORT W ""-"" W *24^Saut de ligne pour trait verticaux^^^^^^^^^"
^%ENVIRON("CI-3500","INIT")="K @($C(94)_""PAGE(""_$J_"")""),ENVL(%TERM) S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1,%PAGE=0^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("CI-3500","INIT.TEXTE")="S %9X=1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S %PAGE=0^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("CI-3500","MOUV.TEXTE")="N X S X=%9X D @(""CLEAR""_$C(94)_""%EDCI350"") U %PORT W *27,*91,"" ""_X_"" `""^Deplacement du curseur sur 1 ligne^^^^^^^^^"
^%ENVIRON("CI-3500","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir^PTPLANNI pour + de details^^^^^^"
^%ENVIRON("CI-3500","POSER")="S ENVL(%TERM,""CRAYON"")=""RIEN""^Laisser le crayon^^^^^^^^^"
^%ENVIRON("CI-3500","PRINTER")="U %PORT W *27 W *27,*91,"" ? 7 l"" W *27,*91,"" 0 ""_""""""""_"" z"" D @($C(94)_""%EDCEDIT""),@(""CLEAR""_$C(94)_""%EDCI350"") W *27,*91,"" ? 7 h""^edite le global intermediaire^Remet l'imprimante en etat standard^^^^^^^^"
^%ENVIRON("CI-3500","QUARTIER")="D @($C(94)_""%PBP2QU"")^Dessine un quartier de disque.^%9X,%9Y coordonnes du centre du cercle^%9R     rayon du cercle^%9AD    angle de depart^%9AF    angle de fin^^^^^"
^%ENVIRON("CI-3500","SEGMENT")="D @(""GRAPH""_$C(94)_""%EDCI350"")^Trace un segment dans un environnement graphique non laser^^^^^^^^^"
^%ENVIRON("CI-3500","SEGMENT.TEXTE")="D @(""GRAPH""_$C(94)_""%EDCI350"")^Trace un segment dans un environnement graphique non laser^^^^^^^^^"
^%ENVIRON("CI-3500","TAILLE.TEXTE")="D @($C(94)_""%EDCI350"")^Recherche de la police de caractere^^^^^^^^^"
^%ENVIRON("CI-3500","TEXT")="D @(""PLACER""_$C(94)_""%EDCI350"")^Impression de texte a la position du curseur^Imprimante non laser^^^^^^^^"
^%ENVIRON("CI-3500","TEXTE")="U %PORT W %9STR^Impression de texte a la position du curseur^Imprimante non laser^^^^^^^^"
^%ENVIRON("CI-3500","TRAIT.HORIZONTAL")="U %PORT W *27,*80,"" 9 q"" W "" ! ""_%LG_"" ""_$S(%9EPA'<1:""~"",%9EPA'<.5:""]"",1:""K"") U %PORT W *27 D @(""CLEAR""_$C(94)_""%EDCI350"")^Trace un trait horizontal^^^^^^^^^"
^%ENVIRON("CI-3500","TRAIT.VERTICAL")="W *27,*80,"" 9 q"" W "" ! ""_$S(%9EPA>1:6,%9EPA>.5:4,1:2)_"" ~"" W *24^Trace un trait vertical^^^^^^^^^"
^%ENVIRON("EPSON","CADRE")="D @(""CADRE""_$C(94)_""%EDCI350"")^TRACE LE CADRE DE LA FENETRE^^^^^^^^^"
^%ENVIRON("EPSON","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF2"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("EPSON","CLEAR")="S %PAGE=%PAGE+1^Incrementation du compteur de page^^^^^^^^^"
^%ENVIRON("EPSON","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("EPSON","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("EPSON","GRAPHIQUE")="U %PORT W *27,*80,"" 9 q"" U %PORT W ""-"" W *24^Saut de ligne pour trait verticaux^^^^^^^^^"
^%ENVIRON("EPSON","INIT")="K @($C(94)_""PAGE(""_$J_"")""),ENVL(%TERM) S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1,%PAGE=0^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("EPSON","INIT.TEXTE")="S %9X=1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S %PAGE=0^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("EPSON","MOUV.TEXTE")="N X S X=%9X D @(""CLEAR""_$C(94)_""%EDCI350"") U %PORT W *27,*91,"" ""_X_"" `""^Deplacement du curseur sur 1 ligne^^^^^^^^^"
^%ENVIRON("EPSON","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir^PTPLANNI pour + de details^^^^^^"
^%ENVIRON("EPSON","POSER")="S ENVL(%TERM,""CRAYON"")=""RIEN""^Laisser le crayon^^^^^^^^^"
^%ENVIRON("EPSON","PRINTER")="U %PORT W *27 W *27,*91,"" ? 7 l"" W *27,*91,"" 0 ""_""""""""_"" z"" D @($C(94)_""%EDCEDIT""),@(""CLEAR""_$C(94)_""%EDCI350"") W *27,*91,"" ? 7 h""^edite le global intermediaire^Remet l'imprimante en etat standard^^^^^^^^"
^%ENVIRON("EPSON","QUARTIER")="D @($C(94)_""%PBP2QU"")^Dessine un quartier de disque.^%9X,%9Y coordonnes du centre du cercle^%9R     rayon du cercle^%9AD    angle de depart^%9AF    angle de fin^^^^^"
^%ENVIRON("EPSON","SEGMENT")="D @(""GRAPH""_$C(94)_""%EDCI350"")^Trace un segment dans un environnement graphique non laser^^^^^^^^^"
^%ENVIRON("EPSON","SEGMENT.TEXTE")="D @(""GRAPH""_$C(94)_""%EDCI350"")^Trace un segment dans un environnement graphique non laser^^^^^^^^^"
^%ENVIRON("EPSON","TAILLE.TEXTE")="D @($C(94)_""%EDCI350"")^Recherche de la police de caractere^^^^^^^^^"
^%ENVIRON("EPSON","TEXT")="D @(""PLACER""_$C(94)_""%EDCI350"")^Impression de texte a la position du curseur^Imprimante non laser^^^^^^^^"
^%ENVIRON("EPSON","TEXTE")="U %PORT W %9STR^Impression de texte a la position du curseur^Imprimante non laser^^^^^^^^"
^%ENVIRON("EPSON","TRAIT.HORIZONTAL")="U %PORT W *27,*80,"" 9 q"" W "" ! ""_%LG_"" ""_$S(%9EPA'<1:""~"",%9EPA'<.5:""]"",1:""K"") U %PORT W *27 D @(""CLEAR""_$C(94)_""%EDCI350"")^Trace un trait horizontal^^^^^^^^^"
^%ENVIRON("EPSON","TRAIT.VERTICAL")="W *27,*80,"" 9 q"" W "" ! ""_$S(%9EPA>1:6,%9EPA>.5:4,1:2)_"" ~"" W *24^Trace un trait vertical^^^^^^^^^"
^%ENVIRON("HP","ARC")="D @(""ARC""_$C(94)_""%EDCHPL2"")^trace un arc de cercle^^^^^^^^^"
^%ENVIRON("HP","ARCREL")="D @($C(94)_""%PBP6MVR"") S %9R=%9R*0.00635 D @(""ARC""_$C(94)_""%EDCHPL2"")^trace un arc de cercle en coordonnees relatives^^^^^^^^^"
^%ENVIRON("HP","CADRE")="S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM D @(""CADRE""_$C(94)_""%EDCHPL"")^TRACE LE CADRE DE LA FENETRE^^^^^^^^^"
^%ENVIRON("HP","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("HP","CERCLE")="D @(""CERCLE""_$C(94)_""%EDCHPL2"")^trace un cercle^^^^^^^^^"
^%ENVIRON("HP","CHARGER.VARIABLES")="D @(""CREERLOC""_$C(94)_""%EDCENVL"")^Sauvegarde dans V($J,""GDX"") l'etat de l'imprimante^^^^^^^^^"
^%ENVIRON("HP","CLEAR")="U %PORT W # S ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0^Saut de page^^^^^^^^^"
^%ENVIRON("HP","CONVERSION.X")="S %9X=$J(.00635*%9X,1,2) S ENVL(%TERM,""X"")=%9X^conversion des points en centimetre pour la coordonnee en X^0.00635 cste de conversion de tectro vers pixel laser^^^^^^^^"
^%ENVIRON("HP","CONVERSION.Y")="S %9Y=$J(%LIMYCM-(.00635*%9Y),1,2) S ENVL(%TERM,""Y"")=%9Y^conversion des points en centimetre pour la coordonnee en Y^^^^^^^^^"
^%ENVIRON("HP","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("HP","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("HP","ELLIPSE")="D @($C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("HP","HACHURER")="N %9Y,%9X,X2,Y2,UNIT,%FONC S %9X=%9X1,%9Y=%9Y1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,11,*71 W *27,*42,*99,2,*80^colorie en gris clair une zone rectangulaire sur la feuille^^^^^^^^^"
^%ENVIRON("HP","HACHURER.FORT")="N %9Y,%9X,X2,Y2,UNIT,%FONC S %9X=%9X1,%9Y=%9Y1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,36,*71 W *27,*42,*99,2,*80^colorie en gris fonce une zone rectangulaire sur la feuille^^^^^^^^^"
^%ENVIRON("HP","HISTO")="D @($C(94)_""%PBMHIS2"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^^"
^%ENVIRON("HP","IMPRESSION.COLONNE")="D @(""HPKYO""_$C(94)_""%PBMHICO"")^impression des colonnes d'1 histogramme^appel a partir de PTHICOL^^^^^^^^"
^%ENVIRON("HP","INIT")="D @(""TUERLOC""_$C(94)_""%EDCENVL"") S:$G(%9T)="""" %9T=1 K ENVL(%TERM) N %FONC S %FONC=""INIT.VARIABLES"" D @($C(94)_""%PBPZ"") U %PORT W *27,*69 W *27,*38,*108,56.693,*85 W *27,*38,*108,*49,*72 S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1^Initialisation de l'imprimante laser HP LASER JET III^^^^^^^^^"
^%ENVIRON("HP","INIT.DESSIN")="N OO S OO=0 S:'$D(%9T) %9T=1 I '$D(%9O) S %9O=""HORIZONTALE"",OO=1 K ENVL(%TERM) S %FONC=""LANDSCAPE"" D @($C(94)_""%PBPZ"")^Initialisation de l'imprimante laser pour dessiner^^^^^^^^^"
^%ENVIRON("HP","INIT.VARIABLES")="I @(""$$CHARGERLOC""_$c(94)_""%EDCENVL()"") S %UU=1/0.3527,%LIMXCM=19.8,%LIMYCM=28.3,%LIMX=561,%LIMY=802,%9EPA=0.01,%9T=1,VALPLA="""",%TRSLTXH=0.5,%TRSLTYH=0,%TRSLTXV=0,%TRSLTYV=0,%9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV d @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("HP","LANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  N SVG S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH,SVG=%LIMY,%LIMY=%LIMX,%LIMX=SVG,SVG=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVG,%9O=""HORIZONTALE"" U %PORT W *27,*38,*97,90,*80 D @(""CREERLOC""_$C(94)_""%EDCENVL"")^orientation horizontale^^^^^^^^^"
^%ENVIRON("HP","LBREL")="D @($C(94)_""%PBP2LBR"")^Dessine une ligne brisee a partir de la position du^curseur^^^^^^^^"
^%ENVIRON("HP","LIGBRI")="D @($C(94)_""%PBP2LB"")^Dessine une ligne brisee^^^^^^^^^"
^%ENVIRON("HP","MOUV")="N X,Y,UNIT S UNIT=118.110236*2.4,X=(%9X+%TRSLTX)*UNIT\1,Y=(%9Y+%TRSLTY)*UNIT\1 U %PORT W *27,*38,*97,X,*72 W *27,*38,*97,Y,*86 S ENVL(%TERM,""X"")=%9X,ENVL(%TERM,""Y"")=%9Y^deplacement du crayon^^^^^^^^^"
^%ENVIRON("HP","MOUVREL")="D @($C(94)_""%PBP6MVR"")^Deplacement relatif^^^^^^^^^"
^%ENVIRON("HP","OLDLANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH U %PORT W *27,*38,*108,1,*79 D @(""CREERLOC""_$C(94)_""%EDCPOST"")^orientation horizontale^^^^^^^^^"
^%ENVIRON("HP","OLDTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  S %TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV U %PORT W *27,*38,*108,0,*79 D @(""CREERLOC""_$C(94)_""%EDCPOST"")^orientation verticale^^^^^^^^^"
^%ENVIRON("HP","PORTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  N SVG S %9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV,SVG=%LIMY,%LIMY=%LIMX,%LIMX=%LIMY,SVG=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVG U %PORT W *27,*38,*97,0,*80 D @(""CREERLOC""_$C(94)_""%EDCENVL"")^orientation verticale^^^^^^^^^"
^%ENVIRON("HP","PRINTER")="U %PORT W *27,*40,*115,*48,*83 W *27,*40,*115,10,*72 W *27,*38,*108,*50,*54,*65 W *27,*38,*108,0,*79^remet l'imprimante en mode standard^Lettre droite^10 CPI^Format A4^Orientation VERTICALE^Ejection de la page^^^^"
^%ENVIRON("HP","SEGMENT")="S %DESSIN=1 D @($C(94)_""%EDCGRAP"")^Trace un segment dans un environnement graphique^^^^^^^^^"
^%ENVIRON("HP","SEGMENT.TEXTE")="D @(""GRAPH""_$C(94)_""%EDCHPL"")^Trace un segment dans un environnement non graphique^^^^^^^^^"
^%ENVIRON("HP","SEGREL")="D @($C(94)_""%PBP6SER"")^Segment trace relatif^^^^^^^^^"
^%ENVIRON("HP","TAILLE")="D @($C(94)_""%EDCHPL"")^activation de la police de caracteres no %9T^^^^^^^^^"
^%ENVIRON("HP","TAILLE.PETITE")="D @($C(94)_""%EDCHPL"")^activation de la police de caracteres no %9T^^^^^^^^^"
^%ENVIRON("HP","TEXT")="D @(""TEXTE""_$C(94)_""%EDCHPL3"")^^Impression de texte^%9X,%9Y position d'impression^%9STR chaine a imprimer^La police n'est pas geree par cette primitive^^^^^"
^%ENVIRON("HP","TRAIT.HORIZONTAL")="N X2,Y2,UNIT S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,0,*80^trace un trait horizontal^X2 Longueur du trait^Y2 Epaisseur du trait^^^^^^^"
^%ENVIRON("HP","TRAIT.VERTICAL")="N X2,Y2,UNIT S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,0,*80^trace un trait vertical^X2 Epaisseur du trait^Y2 Longueur du trait^^^^^^^"
^%ENVIRON("HP-KYO","ARC")="D @(""ARC""_$C(94)_""%EDCHPL2"")^trace un arc de cercle^^^^^^^^^"
^%ENVIRON("HP-KYO","ARCREL")="D @($C(94)_""%PBP6MVR"") S %9R=%9R*0.00635 D @(""ARC""_$C(94)_""%EDCHPL2"")^trace un arc de cercle en coordonnees relatives^^^^^^^^^"
^%ENVIRON("HP-KYO","BAC.1")="U %PORT W *27,*38,*108,*49,*72^selectionne le bac superieur de l'imprimante^^^^^^^^^"
^%ENVIRON("HP-KYO","BAC.2")="U %PORT W *27,*38,*108,*52,*72^selectionne le bac inferieur de l'imprimante^^^^^^^^^"
^%ENVIRON("HP-KYO","CADRE")="S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM D @(""CADRE""_$C(94)_""%EDCHPL"")^TRACE LE CADRE DE LA FENETRE^^^^^^^^^"
^%ENVIRON("HP-KYO","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("HP-KYO","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("HP-KYO","CERCLE")="D @(""CERCLE""_$C(94)_""%EDCHPL2"")^trace un cercle^^^^^^^^^"
^%ENVIRON("HP-KYO","CHARGER.VARIABLES")="D @(""CREERLOC""_$C(94)_""%EDCENVL"")^Sauvegarde dans V($J,""GDX"") l'etat de l'imprimante^^^^^^^^^"
^%ENVIRON("HP-KYO","CLEAR")="U %PORT W # S ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0^Saut de page^^^^^^^^^"
^%ENVIRON("HP-KYO","CONVERSION.X")="S %9X=$J(.00635*%9X,1,2) S ENVL(%TERM,""X"")=%9X^conversion des points en centimetre pour la coordonnee en X^0.00635 cste de conversion de tectro vers pixel laser^^^^^^^^"
^%ENVIRON("HP-KYO","CONVERSION.Y")="S %9Y=$J(%LIMYCM-(.00635*%9Y),1,2) S ENVL(%TERM,""Y"")=%9Y^conversion des points en centimetre pour la coordonnee en Y^^^^^^^^^"
^%ENVIRON("HP-KYO","COURBE")="D @($C(94)_""%PBMHCOU"")^DESSINE UNE COURBE SUR L'ECRAN^MEME STRUCTURE HISTO QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("HP-KYO","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("HP-KYO","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("HP-KYO","ELLIPSE")="D @($C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("HP-KYO","ETOILE")="D @($C(94)_""%PBMHETO"")^DESSINE UN HISTOGRAMME EN ETOILE^MEME STRUCTURE ""HISTO"" EN ENTREE QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("HP-KYO","HACHURER")="N %9Y,%9X,X2,Y2,UNIT,%FONC S %9X=%9X1,%9Y=%9Y1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,10,*71 W *27,*42,*99,2,*80^colorie en gris clair une zone rectangulaire sur la feuille^^^^^^^^^"
^%ENVIRON("HP-KYO","HACHURER.FORT")="N %9Y,%9X,X2,Y2,UNIT,%FONC S %9X=%9X1,%9Y=%9Y1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,40,*71 W *27,*42,*99,2,*80^colorie en gris fonce une zone rectangulaire sur la feuille^^^^^^^^^"
^%ENVIRON("HP-KYO","HISTO")="D @($C(94)_""%PBMHIS2"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^^"
^%ENVIRON("HP-KYO","IMPRESSION.COLONNE")="D @(""HPKYO""_$C(94)_""%PBMHICO"")^impression des colonnes d'1 histogramme^appel a partir de PTHICOL^^^^^^^^"
^%ENVIRON("HP-KYO","INIT")="D @(""TUERLOC""_$C(94)_""%EDCENVL"") S:$G(%9T)="""" %9T=1 K ENVL(%TERM) N %FONC S %FONC=""INIT.VARIABLES"" D @($C(94)_""%PBPZ"") U %PORT W *27,*40,*115,*48,*83 W *27,*38,*108,0,*79 W *27,*38,*108,0,*79 W *27,*40,*115,10,*72 W *27,*38,*108,100,*80 S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1^Initialisation de l'imprimante laser KYOCERA EMULEE EN HP LASER JET +^^^^^^^^^"
^%ENVIRON("HP-KYO","INIT.DESSIN")="N OO S OO=0 S:'$D(%9T) %9T=1 I '$D(%9O) S %9O=""HORIZONTALE"",OO=1 K ENVL(%TERM) S %FONC=""LANDSCAPE"" D @($C(94)_""%PBPZ"")^Initialisation de l'imprimante laser pour dessiner^^^^^^^^^"
^%ENVIRON("HP-KYO","INIT.VARIABLES")="I @(""$$CHARGERLOC""_$c(94)_""%EDCENVL()"") S %UU=1/0.3527,%LIMXCM=19.8,%LIMYCM=28.3,%LIMX=561,%LIMY=802,%9EPA=0.01,%9T=1,VALPLA="""",%TRSLTXH=0.5,%TRSLTYH=0,%TRSLTXV=0,%TRSLTYV=0,%9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV d @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("HP-KYO","LANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  N SVG S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH,SVG=%LIMY,%LIMY=%LIMX,%LIMX=SVG,SVG=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVG,%9O=""HORIZONTALE"" U %PORT W *27,*38,*108,1,*79 D @(""CREERLOC""_$C(94)_""%EDCENVL"")^orientation horizontale^^^^^^^^^"
^%ENVIRON("HP-KYO","LBREL")="D @($C(94)_""%PBP2LBR"")^Dessine une ligne brisee a partir de la position du^curseur^^^^^^^^"
^%ENVIRON("HP-KYO","LIGBRI")="D @($C(94)_""%PBP2LB"")^Dessine une ligne brisee^^^^^^^^^"
^%ENVIRON("HP-KYO","MOUV")="N X,Y,UNIT S UNIT=118.110236*2.4,X=(%9X+%TRSLTX)*UNIT\1,Y=(%9Y+%TRSLTY)*UNIT\1 U %PORT W *27,*38,*97,X,*72 W *27,*38,*97,Y,*86 S ENVL(%TERM,""X"")=%9X,ENVL(%TERM,""Y"")=%9Y^deplacement du crayon^^^^^^^^^"
^%ENVIRON("HP-KYO","MOUVREL")="D @($C(94)_""%PBP6MVR"")^Deplacement relatif^^^^^^^^^"
^%ENVIRON("HP-KYO","NOMBRE.COPIES")="U %PORT W *27,*38,*108,NBR,*88 W !^modifie le nombre d'exemplaire a editer^^^^^^^^^"
^%ENVIRON("HP-KYO","OLDLANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH U %PORT W *27,*38,*108,1,*79 D @(""CREERLOC""_$C(94)_""%EDCPOST"")^orientation horizontale^^^^^^^^^"
^%ENVIRON("HP-KYO","OLDTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  S %TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV U %PORT W *27,*38,*108,0,*79 D @(""CREERLOC""_$C(94)_""%EDCPOST"")^orientation verticale^^^^^^^^^"
^%ENVIRON("HP-KYO","PORTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  N SVG S %9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV,SVG=%LIMY,%LIMY=%LIMX,%LIMX=%LIMY,SVG=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVG U %PORT W *27,*38,*97,0,*80 D @(""CREERLOC""_$C(94)_""%EDCENVL"")^orientation verticale^^^^^^^^^"
^%ENVIRON("HP-KYO","PRINTER")="U %PORT W *27,*40,*115,*48,*83 W *27,*40,*115,10,*72 W *27,*38,*108,*50,*54,*65 W *27,*38,*108,0,*79^remet l'imprimante en mode standard^Lettre droite^10 CPI^Format A4^Orientation VERTICALE^Ejection de la page^^^^"
^%ENVIRON("HP-KYO","QUARTIER")="D @(""QUART""_$C(94)_""%EDCHP2"")^Dessine un quartier de disque.^%9X,%9Y coordonnes du centre du cercle^%9R     rayon du cercle^%9AD    angle de depart^%9AF    angle de fin^^^^^"
^%ENVIRON("HP-KYO","SEGMENT")="S %DESSIN=1 D @($C(94)_""%EDCGRAP"")^Trace un segment dans un environnement graphique^^^^^^^^^"
^%ENVIRON("HP-KYO","SEGMENT.TEXTE")="D @(""GRAPH""_$C(94)_""%EDCHPL"")^Trace un segment dans un environnement non graphique^^^^^^^^^"
^%ENVIRON("HP-KYO","SEGREL")="D @($C(94)_""%PBP6SER"")^Segment trace relatif^^^^^^^^^"
^%ENVIRON("HP-KYO","TAILLE")="D @($C(94)_""%EDCHPL"")^activation de la police de caracteres no %9T^^^^^^^^^"
^%ENVIRON("HP-KYO","TAILLE.PETITE")="D @($C(94)_""%EDCHPL"")^activation de la police de caracteres no %9T^^^^^^^^^"
^%ENVIRON("HP-KYO","TEXT")="D @(""TEXTE""_$C(94)_""%EDCHPL3"")^^Impression de texte^%9X,%9Y position d'impression^%9STR chaine a imprimer^La police n'est pas geree par cette primitive^^^^^"
^%ENVIRON("HP-KYO","TRAIT.HORIZONTAL")="N X2,Y2,UNIT S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,0,*80^trace un trait horizontal^X2 Longueur du trait^Y2 Epaisseur du trait^^^^^^^"
^%ENVIRON("HP-KYO","TRAIT.VERTICAL")="N X2,Y2,UNIT S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,0,*80^trace un trait vertical^X2 Epaisseur du trait^Y2 Longueur du trait^^^^^^^"
^%ENVIRON("HP2","ARC")="D @(""ARC""_$C(94)_""%EDCHPL2"")^trace un arc de cercle^^^^^^^^^"
^%ENVIRON("HP2","ARCREL")="D @($C(94)_""%PBP6MVR"") S %9R=%9R*0.00635 D @(""ARC""_$C(94)_""%EDCHPL2"")^trace un arc de cercle en coordonnees relatives^^^^^^^^^"
^%ENVIRON("HP2","CADRE")="S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM D @(""CADRE""_$C(94)_""%EDCHPL"")^TRACE LE CADRE DE LA FENETRE^^^^^^^^^"
^%ENVIRON("HP2","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("HP2","CERCLE")="D @(""CERCLE""_$C(94)_""%EDCHPL2"")^trace un cercle^^^^^^^^^"
^%ENVIRON("HP2","CHARGER.VARIABLES")="D @(""CREERLOC""_$C(94)_""%EDCENVL"")^Sauvegarde dans V($J,""GDX"") l'etat de l'imprimante^^^^^^^^^"
^%ENVIRON("HP2","CLEAR")="U %PORT W # S ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0^Saut de page^^^^^^^^^"
^%ENVIRON("HP2","CONVERSION.X")="S %9X=$J(.00635*%9X,1,2) S ENVL(%TERM,""X"")=%9X^conversion des points en centimetre pour la coordonnee en X^0.00635 cste de conversion de tectro vers pixel laser^^^^^^^^"
^%ENVIRON("HP2","CONVERSION.Y")="S %9Y=$J(%LIMYCM-(.00635*%9Y),1,2) S ENVL(%TERM,""Y"")=%9Y^conversion des points en centimetre pour la coordonnee en Y^^^^^^^^^"
^%ENVIRON("HP2","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("HP2","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("HP2","ELLIPSE")="D @($C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("HP2","HACHURER")="N %9Y,%9X,X2,Y2,UNIT,%FONC S %9X=%9X1,%9Y=%9Y1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,11,*71 W *27,*42,*99,2,*80^colorie en gris clair une zone rectangulaire sur la feuille^^^^^^^^^"
^%ENVIRON("HP2","HACHURER.FORT")="N %9Y,%9X,X2,Y2,UNIT,%FONC S %9X=%9X1,%9Y=%9Y1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,36,*71 W *27,*42,*99,2,*80^colorie en gris fonce une zone rectangulaire sur la feuille^^^^^^^^^"
^%ENVIRON("HP2","HISTO")="D @($C(94)_""%PBMHIS2"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^^"
^%ENVIRON("HP2","IMPRESSION.COLONNE")="D @(""HPKYO""_$C(94)_""%PBMHICO"")^impression des colonnes d'1 histogramme^appel a partir de PTHICOL^^^^^^^^"
^%ENVIRON("HP2","INIT")="D @(""TUERLOC""_$C(94)_""%EDCENVL"") S:$G(%9T)="""" %9T=1 K ENVL(%TERM) N %FONC S %FONC=""INIT.VARIABLES"" D @($C(94)_""%PBPZ"") U %PORT W *27,*69 W *27,*38,*108,56.693,*85 W *27,*37,1,*65 W *27,*38,*108,*49,*72 S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1^Initialisation de l'imprimante laser HP LASER JET III^^^^^^^^^"
^%ENVIRON("HP2","INIT.DESSIN")="N OO S OO=0 S:'$D(%9T) %9T=1 I '$D(%9O) S %9O=""HORIZONTALE"",OO=1 K ENVL(%TERM) S %FONC=""LANDSCAPE"" D @($C(94)_""%PBPZ"")^Initialisation de l'imprimante laser pour dessiner^^^^^^^^^"
^%ENVIRON("HP2","INIT.VARIABLES")="I @(""$$CHARGERLOC""_$c(94)_""%EDCENVL()"") S %UU=1/0.3527,%LIMXCM=19.8,%LIMYCM=28.3,%LIMX=561,%LIMY=802,%9EPA=0.01,%9T=1,VALPLA="""",%TRSLTXH=0.5,%TRSLTYH=0,%TRSLTXV=0,%TRSLTYV=0,%9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV d @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("HP2","LANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  N SVG S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH,SVG=%LIMY,%LIMY=%LIMX,%LIMX=SVG,SVG=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVG,%9O=""HORIZONTALE"" U %PORT W *27,*38,*97,90,*80 D @(""CREERLOC""_$C(94)_""%EDCENVL"")^orientation horizontale^^^^^^^^^"
^%ENVIRON("HP2","LBREL")="D @($C(94)_""%PBP2LBR"")^Dessine une ligne brisee a partir de la position du^curseur^^^^^^^^"
^%ENVIRON("HP2","LIGBRI")="D @($C(94)_""%PBP2LB"")^Dessine une ligne brisee^^^^^^^^^"
^%ENVIRON("HP2","MOUV")="N X,Y,UNIT S UNIT=118.110236*2.4,X=(%9X+%TRSLTX)*UNIT\1,Y=(%9Y+%TRSLTY)*UNIT\1 U %PORT W *27,*38,*97,X,*72 W *27,*38,*97,Y,*86 S ENVL(%TERM,""X"")=%9X,ENVL(%TERM,""Y"")=%9Y^deplacement du crayon^^^^^^^^^"
^%ENVIRON("HP2","MOUVREL")="D @($C(94)_""%PBP6MVR"")^Deplacement relatif^^^^^^^^^"
^%ENVIRON("HP2","OLDLANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH U %PORT W *27,*38,*108,1,*79 D @(""CREERLOC""_$C(94)_""%EDCPOST"")^orientation horizontale^^^^^^^^^"
^%ENVIRON("HP2","OLDTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  S %TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV U %PORT W *27,*38,*108,0,*79 D @(""CREERLOC""_$C(94)_""%EDCPOST"")^orientation verticale^^^^^^^^^"
^%ENVIRON("HP2","PORTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  N SVG S %9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV,SVG=%LIMY,%LIMY=%LIMX,%LIMX=%LIMY,SVG=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVG U %PORT W *27,*38,*97,0,*80 D @(""CREERLOC""_$C(94)_""%EDCENVL"")^orientation verticale^^^^^^^^^"
^%ENVIRON("HP2","PRINTER")="U %PORT W *27,*40,*115,*48,*83 W *27,*40,*115,10,*72 W *27,*38,*108,*50,*54,*65 W *27,*38,*108,0,*79^remet l'imprimante en mode standard^Lettre droite^10 CPI^Format A4^Orientation VERTICALE^Ejection de la page^^^^"
^%ENVIRON("HP2","SEGMENT")="S %DESSIN=1 D @($C(94)_""%EDCGRAP"")^Trace un segment dans un environnement graphique^^^^^^^^^"
^%ENVIRON("HP2","SEGMENT.TEXTE")="D @(""GRAPH""_$C(94)_""%EDCHPL"")^Trace un segment dans un environnement non graphique^^^^^^^^^"
^%ENVIRON("HP2","SEGREL")="D @($C(94)_""%PBP6SER"")^Segment trace relatif^^^^^^^^^"
^%ENVIRON("HP2","TAILLE")="D @($C(94)_""%EDCHPL"")^activation de la police de caracteres no %9T^^^^^^^^^"
^%ENVIRON("HP2","TAILLE.PETITE")="D @($C(94)_""%EDCHPL"")^activation de la police de caracteres no %9T^^^^^^^^^"
^%ENVIRON("HP2","TEXT")="D @(""TEXTE""_$C(94)_""%EDCHPL3"")^^Impression de texte^%9X,%9Y position d'impression^%9STR chaine a imprimer^La police n'est pas geree par cette primitive^^^^^"
^%ENVIRON("HP2","TRAIT.HORIZONTAL")="N X2,Y2,UNIT S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,0,*80^trace un trait horizontal^X2 Longueur du trait^Y2 Epaisseur du trait^^^^^^^"
^%ENVIRON("HP2","TRAIT.VERTICAL")="N X2,Y2,UNIT S UNIT=118.110236,X2=$J(%9X2,1,2)*UNIT\1,Y2=$J(%9Y2,1,2)*UNIT\1 U %PORT W *27,*42,*99,X2,*65 U %PORT W *27,*42,*99,Y2,*66 U %PORT W *27,*42,*99,0,*80^trace un trait vertical^X2 Epaisseur du trait^Y2 Longueur du trait^^^^^^^"
^%ENVIRON("KYO","ARC")="N R,X,Y S X=.00635*%9X,Y=19.5-(.00635*%9Y),R=.00635*%9R W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",X,"", "",Y,""; ARC "",R-.025,"", "",R,"", "",90-%9AF,"", "",90-%9AD,""; "" S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^Dessine un ARC de cercle^^^^^^^^^"
^%ENVIRON("KYO","ARCREL")="N R,X,Y S X=.00635*%9X,Y=.00635*%9Y,R=.00635*%9R W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",ENVL(%TERM,""X""),"", "",ENVL(%TERM,""Y""),""; MRP "",X,"", "",-Y,""; ARC "",R-.025,"", "",R,"", "",90-%9AF,"", "",90-%9AD,""; "" S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")-Y^Dessine un ARC de cercle^^^^^^^^^"
^%ENVIRON("KYO","CADRE")="S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=26,%9Y2=19.5 W ""MZP "",%9X1,"", "",%9Y1,""; "",""BOX "",%9X2,"", "",%9Y2,""; ""^TRACE LE CADRE DE LA FENETRE^UNE SEULE FENETRE = L'ECRAN TOTAL^^^^^^^^"
^%ENVIRON("KYO","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("KYO","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("KYO","CARRE")="N L,X,Y S X=.00635*%9X,Y=19.5-(.00635*%9Y),L=.00635*%9L W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",X,"", "",Y,""; BOX "",L,"", "",-L,"", B; "" S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^Dessine un carre^^^^^^^^^"
^%ENVIRON("KYO","CERCLE")="N R,X,Y S X=.00635*%9X,Y=19.5-(.00635*%9Y),R=.00635*%9R W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",X,"", "",Y,""; CIR "",R,""; "" S ENVL(%TERM,""X"")=X+R,ENVL(%TERM,""Y"")=Y^Dessine un cercle en %9X,%9Y de rayon %9R^^^^^^^^^"
^%ENVIRON("KYO","CERREL")="N R,X,Y S X=.00635*%9X,Y=.00635*%9Y,R=.00635*%9R W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",ENVL(%TERM,""X""),"", "",ENVL(%TERM,""Y""),""; MRP "",X,"", "",-Y,""; CIR "",R,""; "" S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X+R,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")-Y^Dessine un cercle de %9R de rayon et a la position relative^de %9X,%9Y par rapport a la position du curseur^^^^^^^^"
^%ENVIRON("KYO","CLEAR")="W ""PAGE; "",! S ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0^Saut de page si necessaire^^^^^^^^^"
^%ENVIRON("KYO","CODE.BARRE")="U %PORT W ""BARC ""_TYP_"", ""_TEXTE_"", ""_CH_"", ""_ECHEL_"", ""_ECHEL_"", ""_B1_"", ""_B2_"", ""_B3_"", ""_B4_"", ""_E1_"", ""_E2_"", ""_E3_"", ""_E4_""; "" W !^impression d'1 code barre^^^^^^^^^"
^%ENVIRON("KYO","CONVERSION.X")="S %9X=$J(.00635*%9X,1,2) S ENVL(%TERM,""X"")=%9X^conversion des points en centimetre pour la coordonnee en X^^^^^^^^^"
^%ENVIRON("KYO","CONVERSION.Y")="S %9Y=$J(19.5-(.00635*%9Y),1,2) S ENVL(%TERM,""Y"")=%9Y^conversion des points en centimetre pour la coordonnee en Y^^^^^^^^^"
^%ENVIRON("KYO","COURBE")="D @($C(94)_""%PBMHCOU"")^DESSINE UNE COURBE SUR L'ECRAN^MEME STRUCTURE HISTO QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("KYO","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("KYO","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("KYO","ELLIPSE")="D @($C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("KYO","EPAISSEUR")="U %PORT W ""UNIT C; SPD "",%9EPA,""; "",!^Epaisseur du trait^%9EPA nouvelle epaisseur en cm^^^^^^^^"
^%ENVIRON("KYO","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("KYO","ETOILE")="D @($C(94)_""%PBMHETO"")^DESSINE UN HISTOGRAMME EN ETOILE^MEME STRUCTURE ""HISTO"" EN ENTREE QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("KYO","FONTE")="D @(""STRAIGHT""_$C(94)_""PTGENF2"") W !^Generateur de fontes^%9O = orientation de la page (VERTICALE/HORIZONTALE)^%9P = police (STANDARD/ITALIQUE)^%9T = taille des caracteres (1 est la taille normale)^%9S = direction d'impression sur la feuille (GDHB)^%9N = est un resultat : le numero de la fonte generee^^^^"
^%ENVIRON("KYO","HACHURER")="W ""UNIT C; MZP "",%9X1,"", "",%9Y1,""; FPAT 1, 16, 0, 0, 2, 32, 0, 0; BLK "",%9X2,"", "",%9Y2,""; FPAT 255, 255, 255, 255, 255, 255, 255, 255; ""^^^^^^^^^^"
^%ENVIRON("KYO","HACHURER.FORT")="W ""UNIT C; MZP "",%9X1,"", "",%9Y1,""; FPAT 20, 0, 20, 0, 65, 0, 65, 0; BLK "",%9X2,"", "",%9Y2,""; FPAT 255, 255, 255, 255, 255, 255, 255, 255; ""^^^^^^^^^^"
^%ENVIRON("KYO","HISTO")="D @($C(94)_""%PBMHIS2"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^^"
^%ENVIRON("KYO","IMPRESSION.COLONNE")="D @(""KYO""_$C(94)_""%PBMHICO"")^impression des colonnes d'1 histogramme^appel a partir de PTHICOL^^^^^^^^"
^%ENVIRON("KYO","INIT")="S:$G(%9T)="""" %9T=17 K ENVL(%TERM) W ""!R! RES; UNIT C; SPO L; FONT ""_%9T_""; FTMD 15; FRPO H9, 99; "",! S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1^Initialisation de l'imprimante laser^^^^^^^^^"
^%ENVIRON("KYO","INIT.DESSIN")="S:$G(%9T)="""" %9T=17 K ENVL(%TERM) W ""UNIT C; FONT ""_%9T_""; "",!^Initialisation de l'imprimante laser pour dessiner^^^^^^^^^"
^%ENVIRON("KYO","INIT.TEXTE")="W ""RES; SPO P; FONT 8; ""^^^^^^^^^^"
^%ENVIRON("KYO","LANDSCAPE")="W ""SPO L; ""^^^^^^^^^^"
^%ENVIRON("KYO","LBREL")="D @($C(94)_""%PBP2LBR"")^Dessine une ligne brisee a partir de la position du^curseur^^^^^^^^"
^%ENVIRON("KYO","LIGBRI")="D @($C(94)_""%PBP2LB"")^Dessine une ligne brisee^^^^^^^^^"
^%ENVIRON("KYO","MOUV")="N X,Y S X=$J(%9X,1,2),Y=$J(%9Y,1,2) U %PORT W ""UNIT C; MZP "",X,"", "",Y,"" ;"" S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^Deplacement du curseur^^^^^^^^^"
^%ENVIRON("KYO","MOUVREL")="N X,Y S X=.00635*%9X,Y=.00635*%9Y W ""MZP "",ENVL(%TERM,""X""),"", "",ENVL(%TERM,""Y""),""; MRP "",X,"", "",-Y,""; "" S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")-Y^Deplacement relatif^^^^^^^^^"
^%ENVIRON("KYO","NOMBRE.COPIES")="U %PORT W ""COPY "",NBR,""; "" W !^modifie le nombres d'exemplaires d'edition^^^^^^^^^"
^%ENVIRON("KYO","NUMERO")="D:$D(%9NO) @($C(94)_""%PBPZNO"")^IMPRESSION DU NUMERO %9NO EN HAUT A DROITE DANS LA PAGE^^^^^^^^^"
^%ENVIRON("KYO","ORIENTATION")="S ENVL(%TERM,""ORIENTATION"")=%9O^^^^^^^^^^"
^%ENVIRON("KYO","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir^PTPLANNI pour + de details^^^^^^"
^%ENVIRON("KYO","POLICE.HORIZONTALE")="S %9T=%9T+17^recupere le numero de police verticale^correspondant a une police horizontale^le pb se pose uniquement pour l'edition du calendrier sur la KYO^en mode KYO^^^^^^"
^%ENVIRON("KYO","PORTRAIT")="W ""SPO P; ""^^^^^^^^^^"
^%ENVIRON("KYO","POSER")="S ENVL(%TERM,""CRAYON"")=""RIEN""^Laisser le crayon^^^^^^^^^"
^%ENVIRON("KYO","PRENDRE")="S ENVL(%TERM,""CRAYON"")=""TENU""^Prise du crayon^^^^^^^^^"
^%ENVIRON("KYO","PRINTER")="N %FONC S %FONC=""PORTRAIT"" D @($C(94)_""%PBPZ"") U %PORT W ""RES; EXIT;"",!^Remet la laser dans un etat standard d'imprimante^^^^^^^^^"
^%ENVIRON("KYO","QUARTIER")="D @($C(94)_""%PBP2QU"")^Dessine un quartier de disque.^%9X,%9Y coordonnes du centre du cercle^%9R     rayon du cercle^%9AD    angle de depart^%9AF    angle de fin^^^^^"
^%ENVIRON("KYO","RECT")="N X1,X2,Y1,Y2 S X1=.00635*%9X1,X2=.00635*%9X2,Y1=19.5-(.00635*%9Y1),Y2=19.5-(.00635*%9Y2) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",X1,"", "",Y1,""; BOX "",X2-X1,"", "",Y2-Y1,"", B; "" S ENVL(%TERM,""X"")=X1,ENVL(%TERM,""Y"")=Y1^Dessine un rectangle^^^^^^^^^"
^%ENVIRON("KYO","RECTREL")="N X,Y S X=.00635*%9X,Y=.00635*%9Y W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",ENVL(%TERM,""X""),"", "",ENVL(%TERM,""Y""),""; BOX "",X,"", "",-Y,"", B; ""^Dessine un rectangle relativement a la position du curseur^^^^^^^^^"
^%ENVIRON("KYO","SEGMENT")="S %LIMYCM=19.5 D @($C(94)_""%EDCGRAP"")^Trace un segment dans un environnement graphique^^^^^^^^^"
^%ENVIRON("KYO","SEGMENT.TEXTE")="N X1,X2,Y1,Y2 S X1=$J(%9X1,1,2),X2=$J(%9X2,1,2),Y1=$J(%9Y1,1,2),Y2=$J(%9Y2,1,2) W ""MZP "",X1,"", "",Y1,""; DZP "",X2,"", "",Y2,""; ""^Trace un segment dans un environnement non graphique^^^^^^^^^"
^%ENVIRON("KYO","SEGMENT2")="N X1,X2,Y1,Y2 S X1=$J(.00635*%9X1,1,2),X2=$J(.00635*%9X2,1,2),Y1=$J(19.5-(.00635*%9Y1),1,2),Y2=$J(19.5-(.00635*%9Y2),1,2) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""UNIT C; MZP "",X1,"", "",Y1,""; DZP "",X2,"", "",Y2,""; "" S ENVL(%TERM,""X"")=X2,ENVL(%TERM,""Y"")=Y2^Trace un segment dans un environnement graphique^^^^^^^^^"
^%ENVIRON("KYO","SEGREL")="N X,Y S X=.00635*%9X,Y=.00635*%9Y W:ENVL(%TERM,""CRAYON"")=""TENU"" ""MZP "",ENVL(%TERM,""X""),"", "",ENVL(%TERM,""Y""),""; DRP "",X,"", "",-Y,""; "" S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")-Y^Segment trace relatif^^^^^^^^^"
^%ENVIRON("KYO","TAILLE")="U %PORT W ""FONT "",%9T,""; "",!^^^^^^^^^^"
^%ENVIRON("KYO","TAILLE.PETITE")="U %PORT W ""FONT "",%9T,""; "",!^^^^^^^^^^"
^%ENVIRON("KYO","TAILLE.REELLE")="S ENVL(%TERM,""TAILLE"")=%9MOD^^^^^^^^^^"
^%ENVIRON("KYO","TEXT")="D @($C(94)_""%PBP4TXT"")^Impression de texte a la position du curseur^^^^^^^^^"
^%ENVIRON("KYO","TEXTE")="D @($C(94)_""%PBP2TEX"") W !^Impression de texte a la position du curseur^^^^^^^^^"
^%ENVIRON("PCL5","ARC")="N R,X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5)+%TRSLTX,Y=%LIMY-%TRSLTY-$J(%LIMYCM-(.00635*%9Y)*u,1,5),R=$J(.00635*%9R*u,1,5) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""newpath"",!,X,"" "",Y,"" "",R,"" "",%9AD,"" "",%9AF,"" arc stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^dessine un arc de cercle^^^^^^^^^"
^%ENVIRON("PCL5","ARCREL")="N R,X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5),Y=$J(.00635*%9Y*u,1,5),R=$J(.00635*%9R*u,1,5) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""newpath"",!,(ENVL(%TERM,""X"")+X),"" "",(ENVL(%TERM,""Y"")+Y),"" "",R,"" "",%9AD,"" "",%9AF,"" arc stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")+Y^dessine un arc de cercle^^^^^^^^^"
^%ENVIRON("PCL5","CADRE")="N X1,Y1,X2,Y2,u S u=%UU*10 S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM S X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5),Y1=%LIMY-$J(%9Y1*u,1,5)-%TRSLTY,Y2=$J(%9Y2*u,1,5) U %PORT W ""newpath"",!,X1,"" "",Y1,"" moveto "",(X1+X2),"" "",Y1,"" lineto "",(X1+X2),"" "",(Y1-Y2),"" lineto "",X1,"" "",(Y1-Y2),"" lineto closepath stroke"",!^trace le cadre de la fenetre^^^^^^^^^"
^%ENVIRON("PCL5","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("PCL5","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("PCL5","CERCLE")="N R,X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5)+%TRSLTX,Y=%LIMY-%TRSLTY-$J(%LIMYCM-(.00635*%9Y)*u,1,5),R=$J(.00635*%9R*u,1,5) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""newpath"",!,X,"" "",Y,"" "",R,"" 0 360 arc stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=X+R,ENVL(%TERM,""Y"")=Y^dessine un cercle^^^^^^^^^"
^%ENVIRON("PCL5","CHARGER.VARIABLES")="D @(""CREERLOC""_$C(94)_""%EDCENVL"")^Sauvegarde dans V($J,""GDX"") l'etat de l'imprimante^^^^^^^^^"
^%ENVIRON("PCL5","CLEAR")="U %PORT W ""gsave"",!,""showpage"",!,""grestore"",!^saut de page^avec reinitialisation de lA TRANSLATION DE DEMARRAGE^^^^^^^^"
^%ENVIRON("PCL5","CONVERSION.X")="S %9X=$J(.00635*%9X,1,5) S ENVL(%TERM,""X"")=%9X^conversion des pixels TEKTRONIX en centimetres^0.00635 cste de conversion tectro en cm^^^^^^^^"
^%ENVIRON("PCL5","CONVERSION.Y")="S %9Y=%LIMYCM-$J(.00635*%9Y,1,5) S ENVL(%TERM,""Y"")=%9Y^conversion des pixels TEKTRONIX en centimetres^0.00635 cste de conversion tectro en cm^^^^^^^^"
^%ENVIRON("PCL5","COURBE")="D @($C(94)_""%PBMHCOU"")^dessine une courbe^meme structure que la primitive HISTO^^^^^^^^"
^%ENVIRON("PCL5","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^simule la prise du crayon^^^^^^^^^"
^%ENVIRON("PCL5","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^dessine une ellipse^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons de l'ellipse^%9I : inclinaison^^^^^^"
^%ENVIRON("PCL5","ELLIPSE")="D @($C(94)_""%PBELLIP"")^dessine une ellipse^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons de l'ellipse^%9I : inclinaison^^^^^^"
^%ENVIRON("PCL5","EPAISSEUR")="N EPA,u s u=1/0.3527 U %PORT S EPA=$J((%9EPA*u*10),1,5) W $S(EPA>0:EPA,1:1),"" setlinewidth"",!^epaisseur du trait^^^^^^^^^"
^%ENVIRON("PCL5","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^retor en epaisseur normale^^^^^^^^^"
^%ENVIRON("PCL5","ETOILE")="D @($C(94)_""%PBMHETO"")^dessine une etoile^meme structure que la primitive HISTO^^^^^^^^"
^%ENVIRON("PCL5","HACHURER")="N u,X1,X2,Y1,Y2 S u=%UU*10 S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM S X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5),Y1=$J(%LIMY-(%9Y1*u),1,5)-%TRSLTY,Y2=$J(%9Y2*u,1,5) U %PORT W ""0.90 setgray newpath "",X1,"" "",Y1,"" moveto "",(X1+X2),"" "",Y1,"" lineto "",!,(X1+X2),"" "",(Y1-Y2),"" lineto "",X1,"" "",(Y1-Y2),"" lineto closepath fill 0 setgray"",!^grise un rectangle 'clair' sur la feuille^^^^^^^^^"
^%ENVIRON("PCL5","HACHURER.FORT")="N u,X1,X2,Y1,Y2 S u=%UU*10 S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM S X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5),Y1=$J(%LIMY-(%9Y1*u),1,5)-%TRSLTY,Y2=$J(%9Y2*u,1,5) U %PORT W ""0.75 setgray newpath "",X1,"" "",Y1,"" moveto "",(X1+X2),"" "",Y1,"" lineto "",!,(X1+X2),"" "",(Y1-Y2),"" lineto "",X1,"" "",(Y1-Y2),"" lineto closepath fill 0 setgray"",!^grise un rectangle 'fonce' sur la feuille^^^^^^^^^"
^%ENVIRON("PCL5","HISTO")="D @($C(94)_""%PBMHIS2"")^dessine un histogramme^^^^^^^^^"
^%ENVIRON("PCL5","IMPRESSION.COLONNE")="D @(""KYO""_$C(94)_""%PBMHICO"")^impression des colonnes d'un histogramme^^^^^^^^^"
^%ENVIRON("PCL5","INIT")="d @(""TUERLOC""_$c(94)_""%EDCENVL"") S:'$D(%9T) %9T=17 K ENVL(%TERM) S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1,%DELTA=0 N %FONC s %FONC=""INIT.VARIABLES"" D @($C(94)_""%PBPZ"") D @(""INITSESS""_$C(94)_""%EDCPOST"") ;U %PORT W %TRSLTX_"" ""_%TRSLTY_"" translate"",!^^initialisation de l'imprimante laser^on supprime la memoire locale de la page^c est  le v($j,""gdx"")^On ne decale pas l'origine^^^^^"
^%ENVIRON("PCL5","INIT.DESSIN")="S:'$D(%9T) %9T=1 I '$D(%9O) N %FONC,TEMP S %FONC=""LANDSCAPE"" D @($C(94)_""%PBPZ"") S %9O=""HORIZONTALE"",TEMP=""S ""_$C(94)_""V($J,""""%"""",""""%ORIENTATION"""",1)=""""HORIZONTALE"""""" X TEMP^^^^^^^^^^"
^%ENVIRON("PCL5","INIT.VARIABLES")="I @(""$$CHARGERLOC""_$c(94)_""%EDCENVL()"") S %UU=1/0.3527,%LIMXCM=19.8,%LIMYCM=28.3,%LIMX=561,%LIMY=802,%9EPA=0.01,%9T=1,VALPLA="""",%TRSLTXH=15,%TRSLTYH=15,%TRSLTXV=15,%TRSLTYV=-15,%9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV d @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("PCL5","LANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH U %PORT W %LIMX_"" 0 translate"",!,""90 rotate"",! S SVGDELI=%LIMY,%LIMY=%LIMX,%LIMX=SVGDELI,SVGDELI=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVGDELI D @(""CREERLOC""_$C(94)_""%EDCENVL"")^^passage en orientation horizontale^^^^^^^^"
^%ENVIRON("PCL5","LBREL")="D @($C(94)_""%PBP2LBR"")^dessine une ligne brisee a partir de la position du curseur^^^^^^^^^"
^%ENVIRON("PCL5","LIGBRI")="D @($C(94)_""%PBP2LB"")^dessine une ligne brisee^^^^^^^^^"
^%ENVIRON("PCL5","MOUV")="N X,Y,u S u=%UU*10,X=$J(%9X*u,1,5)+%TRSLTX,Y=$J(%LIMY-(%9Y*u),1,5)-%TRSLTY U %PORT W X,"" "",Y,"" moveto"",! S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^deplacement du curseur^u = coefficient de conversion des centimetres en points POSTSCRIPT^Ajout des marges %TRSLTX et %TRSLTY a X et Y^^^^^^^"
^%ENVIRON("PCL5","MOUVREL")="N X,Y,u S u=%UU*10,X=$J(%9X*0.00635*u,1,5),Y=$J(%9Y*0.00635*u,1,5) U %PORT W (ENVL(%TERM,""X"")+X),"" "",(ENVL(%TERM,""Y"")+Y),"" moveto"",! S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")+Y^deplacement relatif du curseur^u = coefficient de conversion des centimetres en points POSTSCRIPT^^^^^^^^"
^%ENVIRON("PCL5","NUMERO")="D:$D(%9NO) @($C(94)_""%PBPZNO"")^impression d numero en hat a droite de la page^^^^^^^^^"
^%ENVIRON("PCL5","ORIENTATION")="S ENVL(%TERM,""ORIENTATION"")=%9O^^^^^^^^^^"
^%ENVIRON("PCL5","PLACERD")="N X,Y,u S u=%UU*10,X=$J(%9X*u,1,5)+%TRSLTX,Y=$J(%LIMY-(%9Y*u),1,5)-%TRSLTY U %PORT W ""("",%9STR,"") "",Y,"" "",X,"" JustifDroite"",! S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^Edition d'une chaine justifiee a droite^u = coefficient de conversion des centimetres en points POSTSCRIPT^^^^^^^^"
^%ENVIRON("PCL5","PLANNING")="D @($C(94)_""%PBMPLAN"")^edition d'un planning^PAGE contient les infos necessaires voir^PTPLANNI pour + de details^^^^^^^"
^%ENVIRON("PCL5","PORTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  S %TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV U %PORT W ""270 rotate"",!,""-""_%LIMY_"" 0 translate"",! S SVGDELI=%LIMX,%LIMX=%LIMY,%LIMY=SVGDELI,SVGDELI=%LIMXCM,%LIMXCM=%LIMYCM,%LIMYCM=SVGDELI D @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("PCL5","POSER")="SENVL(%TERM,""CRAYON"")=""RIEN""^laisser le crayon^^^^^^^^^"
^%ENVIRON("PCL5","PRENDRE")="S ENVL(%TERM,""CRAYON"")=""TENU""^prise de crayon^^^^^^^^^"
^%ENVIRON("PCL5","PRINTER")="U %PORT W ""showpage"",!^saut de page^^^^^^^^^"
^%ENVIRON("PCL5","QUARTIER")="D @($C(94)_""%PBP2QU"")^DESSINEUN QUARTIER DE DISQUE^^^^^^^^^"
^%ENVIRON("PCL5","REINIT")="D @(""INITSESS""_$C(94)_""%EDCPOST"")^^reinitialisation de l'imprimante laser^rechargement des polices en raison de leur perte sur timeout^^^^^^^"
^%ENVIRON("PCL5","SEGMENT")="D @($C(94)_""%EDCGRAP"")^^^^^^^^^^"
^%ENVIRON("PCL5","SEGMENT.TEXTE")="N X1,X2,Y1,Y2,u S u=%UU*10,X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5)+%TRSLTX,Y1=$J(%LIMY-(%9Y1*u),1,5)-%TRSLTY,Y2=$J(%LIMY-(%9Y2*u),1,5)-%TRSLTY U %PORT W ""newpath "",X1,"" "",Y1,"" moveto "",X2,"" "",Y2,"" lineto stroke"",!,""closepath"",!^dessine un segment dans un environnement non graphique^^^^^^^^^"
^%ENVIRON("PCL5","SEGMENT2")="N X1,X2,Y1,Y2,u S u=%UU*10,X1=$J(.00635*%9X1*u,1,5),X2=$J(.00635*%9X2*u,1,5),Y1=%LIMY-$J(%LIMYCM-(.0635*%9Y1*u),1,5),Y2=%LIMY-$J(%LIMYCM-(.00635*%9Y2*u),1,5) U %PORT W ""newpath "",X1,"" "",Y1,"" moveto "",X2,"" "",Y2,"" lineto stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=X2,ENVL(%TERM,""Y"")=Y2^dessine un segment dans un environnement graphique^^^^^^^^^"
^%ENVIRON("PCL5","SEGREL")="N X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5),Y=$J(.00635*%9Y*u,1,5) U %PORT W ""newpath "",ENVL(%TERM,""X""),"" "",ENVL(%TERM,""Y""),"" moveto "",(ENVL(%TERM,""X"")+X),"" "",(ENVL(%TERM,""Y"")+Y),"" lineto stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")+Y^dessine un segment relatif dans un environnement graphique^^^^^^^^^"
^%ENVIRON("PCL5","TAILLE")="D @($C(94)_""%EDCPOST"")^^^^^^^^^^"
^%ENVIRON("PCL5","TAILLE.REELLE")="S ENVL(%TERM,""TAILLE"")=%9MOD^^^^^^^^^^"
^%ENVIRON("PCL5","TEXT")="D @(""TEXT""_$C(94)_""%EDCPOST"")^impression de texte a la position du curseur^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","ARC")="N R,X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5)+%TRSLTX,Y=%LIMY-%TRSLTY-$J(%LIMYCM-(.00635*%9Y)*u,1,5),R=$J(.00635*%9R*u,1,5) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""newpath"",!,X,"" "",Y,"" "",R,"" "",%9AD,"" "",%9AF,"" arc stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^dessine un arc de cercle^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","ARCREL")="N R,X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5),Y=$J(.00635*%9Y*u,1,5),R=$J(.00635*%9R*u,1,5) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""newpath"",!,(ENVL(%TERM,""X"")+X),"" "",(ENVL(%TERM,""Y"")+Y),"" "",R,"" "",%9AD,"" "",%9AF,"" arc stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")+Y^dessine un arc de cercle^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CADRE")="N X1,Y1,X2,Y2,u S u=%UU*10 S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM S X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5),Y1=%LIMY-$J(%9Y1*u,1,5)-%TRSLTY,Y2=$J(%9Y2*u,1,5) U %PORT W ""newpath"",!,X1,"" "",Y1,"" moveto "",(X1+X2),"" "",Y1,"" lineto "",(X1+X2),"" "",(Y1-Y2),"" lineto "",X1,"" "",(Y1-Y2),"" lineto closepath stroke"",!^trace le cadre de la fenetre^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CALCUL.COEFFICIENT")="D @($C(94)_""%EDCOEF"")^calcul du coefficient de deplacement pour imprimer un texte libre^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CERCLE")="N R,X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5)+%TRSLTX,Y=%LIMY-%TRSLTY-$J(%LIMYCM-(.00635*%9Y)*u,1,5),R=$J(.00635*%9R*u,1,5) W:ENVL(%TERM,""CRAYON"")=""TENU"" ""newpath"",!,X,"" "",Y,"" "",R,"" 0 360 arc stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=X+R,ENVL(%TERM,""Y"")=Y^dessine un cercle^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CHARGER.VARIABLES")="D @(""CREERLOC""_$C(94)_""%EDCENVL"")^Sauvegarde dans V($J,""GDX"") l'etat de l'imprimante^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CLEAR")="U %PORT W ""gsave"",!,""showpage"",!,""grestore"",!^saut de page^avec reinitialisation de lA TRANSLATION DE DEMARRAGE^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CONVERSION.X")="S %9X=$J(.00635*%9X,1,5) S ENVL(%TERM,""X"")=%9X^conversion des pixels TEKTRONIX en centimetres^0.00635 cste de conversion tectro en cm^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CONVERSION.Y")="S %9Y=%LIMYCM-$J(.00635*%9Y,1,5) S ENVL(%TERM,""Y"")=%9Y^conversion des pixels TEKTRONIX en centimetres^0.00635 cste de conversion tectro en cm^^^^^^^^"
^%ENVIRON("POSTSCRIPT","COURBE")="D @($C(94)_""%PBMHCOU"")^dessine une courbe^meme structure que la primitive HISTO^^^^^^^^"
^%ENVIRON("POSTSCRIPT","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^simule la prise du crayon^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^dessine une ellipse^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons de l'ellipse^%9I : inclinaison^^^^^^"
^%ENVIRON("POSTSCRIPT","ELLIPSE")="D @($C(94)_""%PBELLIP"")^dessine une ellipse^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons de l'ellipse^%9I : inclinaison^^^^^^"
^%ENVIRON("POSTSCRIPT","EPAISSEUR")="N EPA,u s u=1/0.3527 U %PORT S EPA=$J((%9EPA*u*10),1,5) W $S(EPA>0:EPA,1:1),"" setlinewidth"",!^epaisseur du trait^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^retor en epaisseur normale^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","ETOILE")="D @($C(94)_""%PBMHETO"")^dessine une etoile^meme structure que la primitive HISTO^^^^^^^^"
^%ENVIRON("POSTSCRIPT","HACHURER")="N u,X1,X2,Y1,Y2 S u=%UU*10 S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM S X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5),Y1=$J(%LIMY-(%9Y1*u),1,5)-%TRSLTY,Y2=$J(%9Y2*u,1,5) U %PORT W ""0.90 setgray newpath "",X1,"" "",Y1,"" moveto "",(X1+X2),"" "",Y1,"" lineto "",!,(X1+X2),"" "",(Y1-Y2),"" lineto "",X1,"" "",(Y1-Y2),"" lineto closepath fill 0 setgray"",!^grise un rectangle 'clair' sur la feuille^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","HACHURER.FORT")="N u,X1,X2,Y1,Y2 S u=%UU*10 S:'$D(%9X1) (%9X1,%9Y1)=0,%9X2=%LIMXCM,%9Y2=%LIMYCM S X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5),Y1=$J(%LIMY-(%9Y1*u),1,5)-%TRSLTY,Y2=$J(%9Y2*u,1,5) U %PORT W ""0.75 setgray newpath "",X1,"" "",Y1,"" moveto "",(X1+X2),"" "",Y1,"" lineto "",!,(X1+X2),"" "",(Y1-Y2),"" lineto "",X1,"" "",(Y1-Y2),"" lineto closepath fill 0 setgray"",!^grise un rectangle 'fonce' sur la feuille^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","HISTO")="D @($C(94)_""%PBMHIS2"")^dessine un histogramme^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","IMPRESSION.COLONNE")="D @(""KYO""_$C(94)_""%PBMHICO"")^impression des colonnes d'un histogramme^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","INIT")="d @(""TUERLOC""_$c(94)_""%EDCENVL"") S:'$D(%9T) %9T=17 K ENVL(%TERM) S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1,%DELTA=0 N %FONC s %FONC=""INIT.VARIABLES"" D @($C(94)_""%PBPZ"") D @(""INITSESS""_$C(94)_""%EDCPOST"") ;U %PORT W %TRSLTX_"" ""_%TRSLTY_"" translate"",!^^initialisation de l'imprimante laser^on supprime la memoire locale de la page^c est  le v($j,""gdx"")^On ne decale pas l'origine^^^^^"
^%ENVIRON("POSTSCRIPT","INIT.DESSIN")="S:'$D(%9T) %9T=1 I '$D(%9O) N %FONC,TEMP S %FONC=""LANDSCAPE"" D @($C(94)_""%PBPZ"") S %9O=""HORIZONTALE"",TEMP=""S ""_$C(94)_""V($J,""""%"""",""""%ORIENTATION"""",1)=""""HORIZONTALE"""""" X TEMP^^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","INIT.VARIABLES")="I @(""$$CHARGERLOC""_$c(94)_""%EDCENVL()"") S %UU=1/0.3527,%LIMXCM=19.8,%LIMYCM=28.3,%LIMX=561,%LIMY=802,%9EPA=0.01,%9T=1,VALPLA="""",%TRSLTXH=15,%TRSLTYH=15,%TRSLTXV=15,%TRSLTYV=-15,%9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV d @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","LANDSCAPE")="S:'$D(%9O) %9O=""VERTICALE"" Q:%9O=""HORIZONTALE""  S %TRSLTX=%TRSLTXH,%TRSLTY=%TRSLTYH U %PORT W %LIMX_"" 0 translate"",!,""90 rotate"",! S SVGDELI=%LIMY,%LIMY=%LIMX,%LIMX=SVGDELI,SVGDELI=%LIMYCM,%LIMYCM=%LIMXCM,%LIMXCM=SVGDELI D @(""CREERLOC""_$C(94)_""%EDCENVL"")^^passage en orientation horizontale^^^^^^^^"
^%ENVIRON("POSTSCRIPT","LBREL")="D @($C(94)_""%PBP2LBR"")^dessine une ligne brisee a partir de la position du curseur^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","LIGBRI")="D @($C(94)_""%PBP2LB"")^dessine une ligne brisee^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","MOUV")="N X,Y,u S u=%UU*10,X=$J(%9X*u,1,5)+%TRSLTX,Y=$J(%LIMY-(%9Y*u),1,5)-%TRSLTY U %PORT W X,"" "",Y,"" moveto"",! S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^deplacement du curseur^u = coefficient de conversion des centimetres en points POSTSCRIPT^Ajout des marges %TRSLTX et %TRSLTY a X et Y^^^^^^^"
^%ENVIRON("POSTSCRIPT","MOUVREL")="N X,Y,u S u=%UU*10,X=$J(%9X*0.00635*u,1,5),Y=$J(%9Y*0.00635*u,1,5) U %PORT W (ENVL(%TERM,""X"")+X),"" "",(ENVL(%TERM,""Y"")+Y),"" moveto"",! S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")+Y^deplacement relatif du curseur^u = coefficient de conversion des centimetres en points POSTSCRIPT^^^^^^^^"
^%ENVIRON("POSTSCRIPT","NUMERO")="D:$D(%9NO) @($C(94)_""%PBPZNO"")^impression d numero en hat a droite de la page^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","ORIENTATION")="S ENVL(%TERM,""ORIENTATION"")=%9O^^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","PLACERD")="N X,Y,u S u=%UU*10,X=$J(%9X*u,1,5)+%TRSLTX,Y=$J(%LIMY-(%9Y*u),1,5)-%TRSLTY U %PORT W ""("",%9STR,"") "",Y,"" "",X,"" JustifDroite"",! S ENVL(%TERM,""X"")=X,ENVL(%TERM,""Y"")=Y^Edition d'une chaine justifiee a droite^u = coefficient de conversion des centimetres en points POSTSCRIPT^^^^^^^^"
^%ENVIRON("POSTSCRIPT","PLANNING")="D @($C(94)_""%PBMPLAN"")^edition d'un planning^PAGE contient les infos necessaires voir^PTPLANNI pour + de details^^^^^^^"
^%ENVIRON("POSTSCRIPT","PORTRAIT")="S:'$D(%9O) %9O=""HORIZONTALE"" Q:%9O=""VERTICALE""  S %TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV U %PORT W ""270 rotate"",!,""-""_%LIMY_"" 0 translate"",! S SVGDELI=%LIMX,%LIMX=%LIMY,%LIMY=SVGDELI,SVGDELI=%LIMXCM,%LIMXCM=%LIMYCM,%LIMYCM=SVGDELI D @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","POSER")="SENVL(%TERM,""CRAYON"")=""RIEN""^laisser le crayon^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","PRENDRE")="S ENVL(%TERM,""CRAYON"")=""TENU""^prise de crayon^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","PRINTER")="U %PORT W ""showpage"",!^saut de page^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","QUARTIER")="D @($C(94)_""%PBP2QU"")^DESSINEUN QUARTIER DE DISQUE^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","REINIT")="D @(""INITSESS""_$C(94)_""%EDCPOST"")^^reinitialisation de l'imprimante laser^rechargement des polices en raison de leur perte sur timeout^^^^^^^"
^%ENVIRON("POSTSCRIPT","SEGMENT")="D @($C(94)_""%EDCGRAP"")^^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","SEGMENT.TEXTE")="N X1,X2,Y1,Y2,u S u=%UU*10,X1=$J(%9X1*u,1,5)+%TRSLTX,X2=$J(%9X2*u,1,5)+%TRSLTX,Y1=$J(%LIMY-(%9Y1*u),1,5)-%TRSLTY,Y2=$J(%LIMY-(%9Y2*u),1,5)-%TRSLTY U %PORT W ""newpath "",X1,"" "",Y1,"" moveto "",X2,"" "",Y2,"" lineto stroke"",!,""closepath"",!^dessine un segment dans un environnement non graphique^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","SEGMENT2")="N X1,X2,Y1,Y2,u S u=%UU*10,X1=$J(.00635*%9X1*u,1,5),X2=$J(.00635*%9X2*u,1,5),Y1=%LIMY-$J(%LIMYCM-(.0635*%9Y1*u),1,5),Y2=%LIMY-$J(%LIMYCM-(.00635*%9Y2*u),1,5) U %PORT W ""newpath "",X1,"" "",Y1,"" moveto "",X2,"" "",Y2,"" lineto stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=X2,ENVL(%TERM,""Y"")=Y2^dessine un segment dans un environnement graphique^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","SEGREL")="N X,Y,u S u=%UU*10,X=$J(.00635*%9X*u,1,5),Y=$J(.00635*%9Y*u,1,5) U %PORT W ""newpath "",ENVL(%TERM,""X""),"" "",ENVL(%TERM,""Y""),"" moveto "",(ENVL(%TERM,""X"")+X),"" "",(ENVL(%TERM,""Y"")+Y),"" lineto stroke"",!,""closepath"",! S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")+Y^dessine un segment relatif dans un environnement graphique^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","TAILLE")="D @($C(94)_""%EDCPOST"")^^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","TAILLE.REELLE")="S ENVL(%TERM,""TAILLE"")=%9MOD^^^^^^^^^^"
^%ENVIRON("POSTSCRIPT","TEXT")="D @(""TEXT""_$C(94)_""%EDCPOST"")^impression de texte a la position du curseur^^^^^^^^^"
^%ENVIRON("PRINTRONIX","CADRE")="N X1,X2,Y1,Y2 D @(""CADRE""_$C(94)_""%EDCIGP(%9X1,%9Y1,%9X2,%9Y2,.X1,.Y1,.X2,.Y2) U %PORT W ""~J""_Y1_""~T""_X1_"",0~LB""_X2_"",""_Y2_"",""_%9EPA_"",""_%9EPA_""~-""^TRACE UN CADRE^^^^^^^^^"
^%ENVIRON("PRINTRONIX","CLEAR")="U %PORT W ""~,""^SAUT DE PAGE^^^^^^^^^"
^%ENVIRON("PRINTRONIX","CRAYON")="S ENVL(%TERM,""CRAYON"")=""TENU""^Simule la prise du crayon^^^^^^^^^"
^%ENVIRON("PRINTRONIX","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("PRINTRONIX","GRAPHIQUE")=";^^^^^^^^^^"
^%ENVIRON("PRINTRONIX","INIT")="U %PORT W ""~PY~-"" W ""~F~-"" K ENVL(%TERM) S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("PRINTRONIX","INIT.TEXTE")="S %9X=1,%FONC=""MOUV"" D @($C(94)_""%PBPZ"") K ENVL(%TERM) S ENVL(%TERM,""X"")=0,ENVL(%TERM,""Y"")=0,ENVL(%TERM,""CRAYON"")=""RIEN"",ENVL(%TERM,""TAILLE"")=1,%PAGE=0 W *27,*91,""?7l""^Initialisation de l'imprimante^^^^^^^^^"
^%ENVIRON("PRINTRONIX","MOUV.TEXTE")="N X,Y D @(""XY""_$C(94)_""%EDCIGP(%9X,%9Y,.X,.Y)"" U %PORT W ""~J""_Y1_""~T""_X1_"",0""^Deplacement du curseur en ( X1,Y1 )^^^^^^^^^"
^%ENVIRON("PRINTRONIX","POSER")="S ENVL(%TERM,""CRAYON"")=""RIEN""^Laisser le crayon^^^^^^^^^"
^%ENVIRON("PRINTRONIX","PRINTER")="U %PORT W ""~O~PN~-""^Remet l'imprimante en etat standard^^^^^^^^^"
^%ENVIRON("PRINTRONIX","SEGMENT.TEXTE")="N X1,Y1,X2,Y2 D @(""GRAPH""_$C(94)_""%EDCIGP"")^Trace un segment^^^^^^^^^"
^%ENVIRON("PRINTRONIX","TAILLE.TEXTE")="D @($C(94)_""%EDCIGP"")^Calcul de la police de caractere^^^^^^^^^"
^%ENVIRON("PRINTRONIX","TEXT")="D @(""PLACER""_$C(94)_""%EDCIGP"")^Impression de texte a la position du curseur^Imprimante non laser^^^^^^^^"
^%ENVIRON("PRINTRONIX","TRAIT.HORIZONTAL")="N X1,Y1,X2,Y2 D @(""TRAIT""_$C(94)_""%EDCIGP(%9X1,%9Y1,%9X2,%9Y2,.X1,.Y1,.X2,.Y2) U %PORT W ""~J""_Y1_""~T""_X1_"",0~LS""_X2_""0,""_Y2_""0~-""^Trace un segment^^^^^^^^^"
^%ENVIRON("PRINTRONIX","TRAIT.VERTICAL")="N X1,Y1,X2,Y2 D @(""TRAIT""_$C(94)_""%EDCIGP(%9X1,%9Y1,%9X2,%9Y2,.X1,.Y1,.X2,.Y2) U %PORT W ""~J""_Y1_""~T""_X1_"",0~LS""_X2_""0,""_Y2_""0~-""^Trace un segment^^^^^^^^^"
^%ENVIRON("PT-100G","ARC")="D @($C(94)_""%PBP5AR"")^TRACE UN ARC DE CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = EXTREMITE (SENS TRIGO) DE L'ARC^%9AD = ANGLE DE DEPART^%9AF = ANGLE DE FIN^^^^"
^%ENVIRON("PT-100G","ARCREL")="D @($C(94)_""%PBP5ARR"")^TRACE UN ARC DE CERCLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = EXTREMITE (SENS TRIGO) DE L'ARC^%9AD = ANGLE DE DEPART^%9AF = ANGLE DE FIN^^^^"
^%ENVIRON("PT-100G","CADRE")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"",%9LXY=""0,0,4090,0,4090,3119,0,3119,0,0"" D @($C(94)_""%PBP5LBR"") S %FONC=""CADRE""^TRACE LE CADRE DE LA FENETRE^UNE SEULE FENETRE = L'ECRAN TOTAL^^^^^^^^"
^%ENVIRON("PT-100G","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^"
^%ENVIRON("PT-100G","CARRE")="S %99LXY=%9LXY,%9LXY=%9X_"",""_%9Y_"",""_(%9X+%9L)_"",""_%9Y_"",""_(%9X+%9L)_"",""_(%9Y+%9L)_"",""_%9X_"",""_(%9Y+%9L)_"",""_%9X_"",""_%9Y D @($C(94)_""%PBP5LBR"") S %9LXY=%99LXY^DESSINE UN CARRE^%9X,%9Y = COORDONNEES DU COIN EN BAS A GAUCHE DU CARRE^%9L = LONGUEUR D'UN COTE^^^^^^^"
^%ENVIRON("PT-100G","CERCLE")="D @($C(94)_""%PBP5CE"")^TRACE UN CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = A ZERO DEGRES (SENS TRIGO CLASSIQUE)^^^^^^"
^%ENVIRON("PT-100G","CERREL")="D @($C(94)_""%PBP5CER"")^TRACE UN CERCLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES RELATIVES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = A ZERO DEGRES (SENS TRIGO CLASSIQUE)^^^^^^"
^%ENVIRON("PT-100G","CLEAR")="W *27,*12^CHANGEMENT DE FENETRE PHYSIQUE^POUR L'INSTANT IL S'AGIT D'UN EFFACEMENT TOTAL DE L'ECRAN^IL N'Y A PAS DE FENETRAGE A L'ECRAN^^^^^^^"
^%ENVIRON("PT-100G","COURBE")="D @($C(94)_""%PBMHCOU"")^DESSINE UNE COURBE SUR L'ECRAN^MEME STRUCTURE HISTO QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("PT-100G","CRAYON")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU""^IDEM CRAYON SUR RD-GL2, MAIS ON A PAS LA COULEUR A L'ECRAN^^^^^^^^^"
^%ENVIRON("PT-100G","CROSSHAIR")="W *27,*26,*27,*24 N A,B,C,D R *%9RES,*A,*B,*C,*D D @(""XY""_$C(94)_""%PBCATEK(A,B,C,D,.%9X,.%9Y)"")^PTEK4014(A,B,C,D,.%9X,.%9Y)^PASSAGE EN MODE CROSSHAIR^%9RES = CARACTERE FRAPPE^%9X,%9Y = POSITION DU CURSEUR^^^^^^"
^%ENVIRON("PT-100G","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("PT-100G","EFFACEMENT")="W *27,""OW b` @@""^^^^^^^^^^"
^%ENVIRON("PT-100G","ELLIPSE")="D @($C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("PT-100G","EPAISSEUR")="D @($C(94)_""%PBCAEP"")^Epaisseur du trait^%9EPA nouvelle epaisseur en cm^^^^^^^^"
^%ENVIRON("PT-100G","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("PT-100G","ETOILE")="D @($C(94)_""%PBMHETO"")^DESSINE UN HISTOGRAMME EN ETOILE^MEME STRUCTURE ""HISTO"" EN ENTREE QUE LA PRIMITIVE ""HISTO""^^^^"
^%ENVIRON("PT-100G","GOALFA")="W *27,2^Passage en mode alphanumerique normal^^^^^^^^^"
^%ENVIRON("PT-100G","GOGRA")="W *27,1^Passage en mode graphique normal^^^^^^^^^"
^%ENVIRON("PT-100G","GRAPHOF")="W *27,""[>0g""^efface l'affichage graphique^^^^^^^^^"
^%ENVIRON("PT-100G","GRAPHON")="W *27,""[>1g""^affiche la memoire graphique^^^^^^^^^"
^%ENVIRON("PT-100G","HISTO")="D @($C(94)_""%PBMHIS"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^"
^%ENVIRON("PT-100G","INIT")="S ENVL(%TERM,""W"")=1,ENVL(%TERM,""H"")=1,ENVL(%TERM,""LTEXTMAX"")=999,ENVL(%TERM,""%PORT"")=%PORT,(ENVL(%TERM,""X""),ENVL(%TERM,""Y""))=0 D @($C(94)_""%PBP5FG"") W *27,8,*31,!^INITIALISATION DE L'ECRAN PT-100G^%PORT = PORTE DE L'ECRAN (EN GENERAL 0), %TERM=""PBPZ-100G""^%9NCO = NOMBRE DE COLONNES (OPTIONNEL), 1 PAR DEFAUT^%9NLI = NOMBRE DE LIGNES   (OPTIONNEL), 1 PAR DEFAUT^POSITION INITIALE DU CRAYON : (0,0)^^^^^"
^%ENVIRON("PT-100G","LBREL")="D @($C(94)_""%PBP5LB"")^DESSINE UNE LIGNE BRISEE EN COORDONNEES RELATIVES^%9LXY= LISTE DES POINTS A ATTEINDRE^^^^^^^^"
^%ENVIRON("PT-100G","LIGBRI")="D @($C(94)_""%PBP5LBR"")^DESSINE UNE LIGNE BRISEE DANS LA FENETRE COURANTE^%9LXY = LISTE DES COORDONNEES DES POINTS SUCCESSIFS DE LA LIGNE BRISEE^^^^^^^^"
^%ENVIRON("PT-100G","LTEXTMAX")="S ENVL(%TERM,""LTEXTMAX"")=%9LTMX^SPECIFIE LA LONGUEUR MAXIMALE DU TEXTE IMPRIME PAR^LA PRIMITIVE TEXT^^%9LTMX EST LE LONGUEUR MAX DES CHAINES IMPRIMES^%9LTMX = -1 --> PAS DE RESTRICTION TOUTE LA CHAINE EST IMPRIMEE^^^^^"
^%ENVIRON("PT-100G","MOUV")="D @($C(94)_""%PBP5MV"")^DEPLACEMENT ABSOLU SANS TRACAGE^%9X,%9Y = COORDONNEES DU POINT A ATTEINDRE^^^^^^^^"
^%ENVIRON("PT-100G","MOUVREL")="D @($C(94)_""%PBP5MVR"")^MOUVEMENT RELATIF A LA POSITION COURANTE^%9X,%9Y = DEPLACEMENT RELATIF^^^^^^^^"
^%ENVIRON("PT-100G","NORMAL")="W *27,""OW `` @@""^^^^^^^^^^"
^%ENVIRON("PT-100G","NUMERO")="D:$D(%9NO) @($C(94)_""%PBPZNO"")^IMPRESSION DU NUMERO %9NO EN HAUT A DROITE DANS LA PAGE^^^^^"
^%ENVIRON("PT-100G","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir ^PTPLANNI pour + de details^^^^^^^^"
^%ENVIRON("PT-100G","POINT")="D @($C(94)_""%PBP1PNT"")^DESSINE UN POINT^%9X,%9Y = COORDONEES DU POINT^^^^^^^^"
^%ENVIRON("PT-100G","POSER")="S ENVL(%TERM,""ETAT-CRAYON"")=""SANS-CRAYON"" W *27,""OW b` @@"",!^POSE LE CRAYON, OU MODE ""PBPZTOF""^AUCUN PARAMETRE^^^^^^^^"
^%ENVIRON("PT-100G","PRENDRE")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"" W *27,""OW `` @@"",!^PRISE DU CRAYON OU MODE ""PBPZTON""^AUCUN PARAMETRE^^^^^^^^"
^%ENVIRON("PT-100G","QUARTIER")="D @($C(94)_""%PBP5QU"")^TRACE UN QUARTIER DE CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^%9AD = ANGLE DE DEBUT^%9AF = ANGLE DE FIN^^^^^"
^%ENVIRON("PT-100G","RECT")="S %99LXY=%9LXY,%9LXY=%9X1_"",""_%9Y1_"",""_%9X2_"",""_%9Y1_"",""_%9X2_"",""_%9Y2_"",""_%9X1_"",""_%9Y2_"",""_%9X1_"",""_%9Y1 D @($C(94)_""%PBP5LBR"") S %9LXY=%99LXY^TRACE UN RECTANGLE^%9X1,%9Y1 = COIN EN BAS A GAUCHE DU RECTANGLE^%9X2,%9Y2 = COIN EN HAUT A DROITE DU RECTANGLE^^^^^^^"
^%ENVIRON("PT-100G","RECTREL")="S %9LXY=ENVL(%TERM,""X"")_"",""_ENVL(%TERM,""Y"")_"",""_(ENVL(%TERM,""X"")+%9X)_"",""_ENVL(%TERM,""Y"")_"",""_(ENVL(%TERM,""X"")+%9X)_"",""_(ENVL(%TERM,""Y"")+%9Y)_"",""_ENVL(%TERM,""X"")_"",""_(ENVL(%TERM,""Y"")+%9Y)_"",""_ENVL(%TERM,""X"")_"",""_ENVL(%TERM,""Y"") D @($C(94)_""%PBP5LBR"")^TRACE UN RECTANGLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES DU COIN OPPOSE (EN HAUT A DROITE) DU RECTANGLE^^^^^^^^"
^%ENVIRON("PT-100G","SEG")="D @($C(94)_""%PBP5SE"")^trace d'un segment^^^^^^^^^"
^%ENVIRON("PT-100G","SEGMENT")="D @($C(94)_""%PBP5SG"")^DESSINE UN SEGMENT DE DROITE DANS LA FENETRE COURANTE^%9X1,%9Y1,%9X2,%9Y2 = COORDONNEES DES DEUX EXTREMITES DU SEGMENT^^^^^^^^"
^%ENVIRON("PT-100G","SEGR")="D @($C(94)_""%PBP5SER"")^trace d'un segment relatif^^^^^^^^^"
^%ENVIRON("PT-100G","SEGREL")="D @($C(94)_""%PBP5SGR"")^TRACE UN SEGMENT RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = POSITION RELATIVE DE L'AUTRE EXTREMITE DU SEGMENT^^^^^^^^"
^%ENVIRON("PT-100G","STANDARD")="^^^^^^^^^^"
^%ENVIRON("PT-100G","TAILLE")="D:'$D(%9MOD) @($C(94)_""%PBP5TAI"") I $D(%9MOD) W:%9MOD<1 *27,"";"" W:%9MOD'<1 *27,8^MODIFIE LA TAILLE DES CARACTERES^%9MOD EST LE FACTEUR DE MODIFICATION^%9MOD<1 ---> PETITE POLICE^%9MOD'<1 --> GRANDE POLICE^IL Y A EN FAIT 4 TAILLES, 2 GRANDES ET 2 PETITES, ELLES SONT TELLEMENT^PROCHES QUE DEUX SEULEMENT ONT ETE RETENUES SUR LES 4 : LA PLUS GRANDE^(POLICE STANDARD) ET LA PLUS PETITE^^^"
^%ENVIRON("PT-100G","TEXT")="W *31,$E(%9STR,1,ENVL(%TERM,""LTEXTMAX"")),!^IMPRESSION DE TEXTE A L'ECRAN^%9STR EST LE TEXTE A IMPRIMER^^^^^^^^"
^%ENVIRON("PT-100G","TYPLIGNE")="I ""F.P.M.C.L""[%9TL W *27,$E(""F\PaMbCcLd"",$F(""F\PaMbCcLd"",%9TL)),!^SELECTIONNE LE TYPE DE LIGNE A AFFICHER^%9TL = LE TYPE DE LIGNE^F --> LIGNE PLEINE^P --> POINTILLES^C --> TRAITS COURTS + POINTS^M --> TRAITS MOYENS + POINTS^L --> TRAITS LONGS  + POINTS^^^"
^%ENVIRON("RD-GL2")=""
^%ENVIRON("RD-GL2","AA")="S %99X=%9X,%99Y=%9Y D @($C(94)_""%PBCAXY"") W ""AA"",%9X,"","",%9Y,"","",%9TC W:$D(%9TD) "","",%9TD W "";"",! S %9X=%99X,%9Y=%99Y^DESSINE UN ARC CENTRE SUR %9X,%9Y^%TC = CENTRE DE L'ANGLE DE -360 A 360 DEGRES^%TD = LARGEUR EN DEGRES DE L'ANGLE DE 1 A 179,9999. 5 DEGRES PAR DEFAUT^%9X,%9Y DE -31200 A 31200^^^^^"
^%ENVIRON("RD-GL2","AR")="S %99X=%9X,%99Y=%9Y D @($C(94)_""%PBCARXY"") W ""AR"",%9X,"","",%9Y,"","",%9TC W:$D(%9TD) "","",%9TD W "";"",! S %9X=%99X,%9Y=%99Y^TRACE D'UN ARC DE CERCLE EN COORDONNEES RELATIVES^LES PARAMETRES SONT LES MEMES QUE POUR LA COMMANDE ""AA"" MAIS^%9X ET %9Y SONT DES COORDONNEES RELATIVES^^^^^^"
^%ENVIRON("RD-GL2","ARC")="S %99X=%9X,%99Y=%9Y,%99R=%9R D @($C(94)_""%PBCAXY"") W ""PA;PU"",%9X+%9R,"","",%9Y,"";AA"",%9X,"","",%9Y,"","",%9AD,"";PD;AA"",%9X,"","",%9Y,"","",%9AF-%9AD#360,"";PU;"",! S %9X=%99X,%9Y=%99Y,%9R=%99R^TRACE UN ARC DE CERCLE^%9X,%9Y = POSITION DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^%9AD = ANGLE DE DEPART^%9AF = ANGLE DE FIN^POSITION FINALE = EXTREMITE DE L'ARC (SENS TRIGO)^^^^"
^%ENVIRON("RD-GL2","ARCREL")="S %99R=%9R,%99X=%9X,%99Y=%9Y D @($C(94)_""%PBCARXY"") W ""PD;AR"",%9X,"","",%9Y,"","",%9AF-%9AD#360,"";PU;PR;"",! S %9R=%99R,%9X=%99X,%9Y=%99Y^^DESSIN D'UN ARC DE CERCLE, IDEM ""ARC""^LES COORDONNEES %9X ET %9Y SONT RELATIVES A LA POSITION COURANTE DU^CRAYON^L'ARC EST TRACE A PARTIR DE LA POSITION COURANTE DU CRAYON^POSITION FINALE = AUTRE EXTREMITE DE L'ARC^^^^"
^%ENVIRON("RD-GL2","BL")="I $L(%9STR)'>150 W ""BL"",%9STR,*3,!^STOCKAGE D'UNE CHAINE DE CARACTERES DANS UN BUFFER^ELLE POURRA ETRE IMPRIMEE PLUS TARD PAR ""PB""^%9STR EST LA CHAINE A STOCKER, ELLE NE DOIT PAS AVOIR PLUS DE 150^CARACTERES^^"
^%ENVIRON("RD-GL2","CA")="W ""CA"" W:$D(%9N) %9N W "";"",!^DESIGNER LA POLICE A UTILISER POUR LE 2EME JEU DE CARACTERES^%9N = LE NUMERO DE LA POLICE, DE 0 A 15, 0 PAR DEFAUT^^^^"
^%ENVIRON("RD-GL2","CADRE")="U %PORT W ""PU;PA"",%9X1*10,"","",(%LIMYCM-%9Y1)*10,"";PD;PR"",%9X2*10,"",0,0,"",-%9Y2*10,"","",-%9X2*10,"",0,0,"",%9Y2*10,"";PD;PA;""^IMPRESSION DES FEENTRES LOGIQUES SUR LE TERMINALAL^remplace l'ancien appel a %PBP3C^^^^^^^^"
^%ENVIRON("RD-GL2","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^"
^%ENVIRON("RD-GL2","CARRE")="S %99X=%9X,%99Y=%9Y,%99L=%9L D @($C(94)_""%PBCAXY"") W ""PA;PU"",%9X,"","",%9Y,"";PD;EA"",%9X+%9L,"","",%9Y+%9L,"";PU;"",! S %9X=%99X,%9Y=%99Y,%9L=%99L^IMPRESSION D'UN CARRE^%9X,%9Y = POSITION DU COIN A BAS A GAUCHE DU CARRE^%9L = LONGUEUR D'UN COTE DU CARRE^^^^^^^"
^%ENVIRON("RD-GL2","CARREL")="S %99X=%9X,%99Y=%9Y,%99L=%9L D @($C(94)_""%PBCARXY"") W ""PU;PR"",%9X,"","",%9Y,"";ER"",%9L,"","",%9L,"";PU;"",! S %9X=%99X,%9Y=%99Y,%9L=%99L^IMPRESSION D'UN CARRE^%9X,%9Y = POSITION DU COIN A BAS A GAUCHE DU CARRE RELATIVEMENT A LA POSITION DU CRAYON^%9L = LONGUEUR D'UN COTE DU CARRE^^^^^^^"
^%ENVIRON("RD-GL2","CC")="W ""CC"" W:$D(%9N) %9N W "";"",!^SPECIFIE LA RESOLUTION DES CARACTERES^%9N = LA RESOLUTION, DE 0 A 45 DEGRES, 5 DEGRES PAR DEFAUT^PLUS %9N EST PETIT PLUS LES CARACTERES SONT ""LISSES""^^^"
^%ENVIRON("RD-GL2","CERCLE")="S %99X=%9X,%99Y=%9Y,%99R=%9R D @($C(94)_""%PBCAXY"") W ""PA;PU"",%9X+%9R,"","",%9Y,"";PD;AA"",%9X,"","",%9Y,"",360;PU;"",! S %9X=%99X,%9Y=%99Y,%9R=%99R^IMPRESSION D'UN CERCLE^%9X,%9Y = POSITION DU CENTRE DU CERCLE^%9R - RAYON DU CERCLE^POSITION FINALE A ZERO DEGRES^^^^^^"
^%ENVIRON("RD-GL2","CERREL")="S %99X=%9X,%99Y=%9Y,%99R=%9R D @($C(94)_""%PBCARXY"") W ""PR;PU"",%9X+%9R,"","",%9Y,""PD;AA"",%9X,"","",%9Y,"",360;PU;"",! S %9X=%99X,%9Y=%99Y,%9R=%99R^IMPRESSION D'UN CERCLE^%9X,%9Y = POSITION DU CENTRE DU CERCLE, COORDONNES RELATIVES A LA POSITION DU CRAYON^%9R - RAYON DU CERCLE^POSITION FINALE A ZERO DEGRES^^^^^^"
^%ENVIRON("RD-GL2","CL")="W ""CL"",%9R W:$D(%9TD) "","",%9TD W "";"",!^DESSINE UN CERCLE A PARTIR DE LA POSITION DU CRAYON^%9R = RAYON, DE -32767 A 32767^%9TD = RESOLUTION, DE 1 A 179,99999 DEGRES, 5 PAR DEFAUT^^^"
^%ENVIRON("RD-GL2","CLEAR")="D @(""NOUVPAG""_$C(94)_""%EDCRDGL"")^CHANGEMENT DE FENETRE PHYSIQUE^appelait auparavant %PBP3CL^^^^^^^^"
^%ENVIRON("RD-GL2","COURBE")="D @($C(94)_""%PBMHCOU"")^DESSINE UNE COURBE SUR LA TABLE TRACANTE^MEME STRUCTURE HISTO QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("RD-GL2","CP")="W ""CP"" W:$D(%9X)&$D(%9Y) %9X,"","",%9Y W "";"",!^DEPLACEMENT DU CRAYON, UNITE = LE CARACTERE^%9X = NOMBRE DE CARACTERES EN X, DE -127 A 127^%9Y = NOMBRE DE CARACTERES EN Y, DE -127 A 127^^^"
^%ENVIRON("RD-GL2","CRAYON")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"",(ENVL(%TERM,""NO-PEN""),%9N)=$S($D(ENVL(%TERM,%9TC,%9CL)):ENVL(%TERM,%9TC,%9CL),1:1) W ""SP"",%9N,"";"",!^CHOIX D'UN CRAYON (DONC D'UNE COULEUR)^%9TC EST LE TYPE DU CRAYON, %9TC = ""FEUTRE"" OU ""PLUME""^%9CL EST LA COULEUR, NOIR,ROUGE,BLEU, OU VERT^^^^^^^"
^%ENVIRON("RD-GL2","CS")="W ""CS"" W:$D(%9N) %9N W "";"",!^DESIGNE LA POLICE A UTILISER POUR LE 1ER JEU DE CARACTERES^%9N = LE NUMERO DE LA POLICE, DE 0 A 15, 0 PAR DEFAUT^^^^"
^%ENVIRON("RD-GL2","CT")="W ""CT"" W:$D(%9N) %9N W "";"",!^CHOIX DU MODE DE RESOLUTION^%9N = 1 ECART ENTRE LA CORDE ET L'ARC^%9N = 0 ECART ANGULAIRE^^^"
^%ENVIRON("RD-GL2","DC")="W ""DC;"",!^COMMANDE DE FIN DE NUMERISATION^^^^^"
^%ENVIRON("RD-GL2","DEBUT.POLYGONE")="W ""PM0;"",!^Entree dans le mode polygone^^^^^^^^^"
^%ENVIRON("RD-GL2","DEMIE")="D @(""DEMIE""_$C(94)_""PTELLIPSE"")^^^^^^^^^^"
^%ENVIRON("RD-GL2","DF")="W ""DF;"",!^FIXE LES VALEURS PAR DEFAUT POUR TOUS LES PARAMETRES AYANT^DES VALEURS PA DEFAUT^^^^"
^%ENVIRON("RD-GL2","DI")="W ""DI"" W:$D(%9RUN)&$D(%9RISE) "","",%9RUN,"","",%9RISE W "";"",!^DESIGNE LA DIRECTION D'IMPRESSION^%9RUN = DEPLACEMENT HORIZONTAL, DE -127 A 127, O PAR DEFAUT^%9RISE = DEPLACEMENT VERTICAL, DE -127 A 127, 1 PAR DEFAUT^%9RUN = 0 ==> IMPRESSION HORIZONTALE^%9RISE = 0 ==> IMPRESSION VERTICALE^"
^%ENVIRON("RD-GL2","DIMP")="W ""DI"" W:$D(%9HOR)&$D(%9VER) $J(%9HOR,1,3)_"",""_$J(%9VER,1,3) W "";"",!^FIXE LA DIRECTION D'IMPRESSION^%9HOR = DISTANCE HORIZONTALE^%9VER = DISTANCE VERTICALE^SI NON DEFINIS --> IMPRESSION HORIZONTALE PAR DEFAUT^IMPRESSION HORIZONTALE ==> %9HOR=1,%9VER=0^^^^"
^%ENVIRON("RD-GL2","DL")="W ""DL"" W:$D(%9CN) %9CN W:$D(%9STR) "","",%9STR W "";"",!^%VSTION DES CARACTERES DEFINIS PAR L'UTILISATEUR^SI %9CN ET %9STR N'EXISTE PAS ==> BUFFER VIDE^SI %9STR N'EXISTE PAS ==> CARACTERE DE NO %9CN ELIMINE DU BUFFER^SINON LE CARACTERE DE NO %9CN EST STOCKE DANS LE BUFFER ET SA DESCRIPTION^SE TROUVE DANS %9STR (SUITE DE PEN-STATUS,X,Y)^"
^%ENVIRON("RD-GL2","DP")="W ""DP;"",!^PASSAGE EN MODE ""NUMERISATION"", ON PEUT FAIRE ENSUITE^LA COLLECTE DE POINTS^^^^"
^%ENVIRON("RD-GL2","DR")="W ""DR"" W:$D(%9RUN)&$D(%9RISE) %9RUN,"","",%9RISE W "";"",!^DESIGNE LA NOUVELLE DIRECTION D'IMPRESSION EN DEPLACEMENTS RELATIFS PAR RAPPORT A LA DIRECTION ACTUELLE^%9RUN = MODIFICATION DU DEPLACEMENT HORIZONTAL^%9RISE = MODIFICATION DU DEPLACEMENT VERTICAL^%9RUN = 0 ==> DEPLACEMENT HORIZONTAL^%9RISE = 0 ==> DEPLACEMENT VERTICAL^"
^%ENVIRON("RD-GL2","DT")="W ""DT"",%9C,!^DEFINIT LE CARACTERE DE FIN DE COMMANDE^^^^^"
^%ENVIRON("RD-GL2","EA")="W ""EA"",%9X,"","",%9Y,"";"",!^DESSIN D'UN RECTANGLE^^^^^^^^"
^%ENVIRON("RD-GL2","ELLIPSE")="D @($C(94)_""PTELLIPSE"")^^^^^^^^^^"
^%ENVIRON("RD-GL2","EP")="W ""EP;"",!^DESSINE LE POLYGONE MANIPULE DERNIEREMENT PAR ""PM"", ""RA"",^""RR"", OU ""WG""^^^^"
^%ENVIRON("RD-GL2","EPAISSEUR")="D @($C(94)_""%PBCAEP"")^Epaisseur du trait^%9EPA nouvelle epaisseur en cm^^^^^^^^"
^%ENVIRON("RD-GL2","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("RD-GL2","ER")="W ""ER"",%9X,"","",%9Y,"";"",!^DESSIN D'UN RECTANGLE MAIS EN COORDONNEES RELATIVE A LA POSITION DU CRAYON^^^^^^^^"
^%ENVIRON("RD-GL2","ES")="W ""ES"" W:$D(%9S) %9S W:$D(%9L) "","",%9L W "";"",!^SPECIFIE LA DISTANCE ENTRE LES CARACTERES ET ENTRE LES LIGNES^%9S = ESPACE INTER-CARACTERES, DE -999999 A 999999^%9L = ESPACE INTER-LIGNES, DE -999999 A 999999^^^"
^%ENVIRON("RD-GL2","ETOILE")="D @($C(94)_""%PBMHETO"")^DESSINE UN HISTOGRAMME EN ETOILE^MEME STRUCTURE ""HISTO"" EN ENTREE QUE LA PRIMITIVE ""HISTO""^^^^"
^%ENVIRON("RD-GL2","EW")="W ""EW"",%9R,"","",%9T1,"","",%9TC W:$D(%9TD) "","",%9TD W "";"",!^DESSINE UNE PORTION DE DISQUE (UN QUARTIER)^%9R = RAYON, DE -32767 A 32767^%9T1 = ANGLE DE DEPART, DE -360 A 360 DEGRES^%9TC = CENTRE DU QUARTIER , DE -360 A 360 DEGRES^%9TD = RESOLUTION, DE -360 A 360 DEGRES, OPTIONNEL^"
^%ENVIRON("RD-GL2","FENETRE")="D @($C(94)_""%PBP3F"")^FENETRAGE^FENETRAGE DU TERMINAL: %NLI = NB DE LIGNES, %NCO = NB DE COLONNES^^^^^^^"
^%ENVIRON("RD-GL2","FILL.POLYGONE")="W ""FP;"",!^Remplissage d'un polygone^^^^^^^^^"
^%ENVIRON("RD-GL2","FIN.POLYGONE")="W ""PM2;"",!^Sortie du mode polygone^^^^^^^^^"
^%ENVIRON("RD-GL2","FP")="W ""FP;"",!^REMPLISSAGE D'UN POLYGONE^CE POLYGONE A ETE DEFINI AUPARAVANT PAR ""PM""^^^^"
^%ENVIRON("RD-GL2","FS")="W ""FS"",%9F W:$D(%9N) "","",%9N W "";"",!^SPECIFIE LA FORCE D'APPUI DU CRAYON^%9F = FORCE D'APPUI, DE 1 A 16, 1 PAR DEFAUT^%9N = NO DU CRAYON, 0 PAR DEFAUT (PAS DE CRAYON)^^^"
^%ENVIRON("RD-GL2","FT")="W ""FT"" W:$D(%9N)&$D(%9D)&$D(%9T) %9N,"","",%9D,"","",%9HT W "";"",!^DEFINIT LE HACHURAGE^%9N = 1,2 ==> HACHURES EN DIAGONALE; %9N = 3 ==> VERTICALES, %9N = 4 ==> VERTICALES ET HORIZONTALES (CROISEES)^%9D = ESPACE ENTRE DEUX HACHURES, DE 0 A 32767^%9HT = ANGLE DES HACHURES, DE 0 A 180 DEGRES^^^^^^"
^%ENVIRON("RD-GL2","HACHURER")="U %PORT W ""SP2;"",! W ""FT3;PU;PA"",%9X1*10,"","",(%LIMYCM-%9Y1-%9Y2)*10,"";RR"",%9X2*10,"","",%9Y2*10,"";"" W ""SP1;"",!^hachurage d'un zone^le hachurage se fait avec des traits horizontaux (FT3)^^^^^^^^"
^%ENVIRON("RD-GL2","HACHURER.FORT")="U %PORT W ""FT4;PU;PA"",%9X1*10,"","",(%LIMYCM-%9Y1-%9Y2)*10,"";RR"",%9X2*10,"","",%9Y2*10,"";""^hachurage d'un zone^le hachurage se fait avec des traits horizontaux et verticaux^croises (appel de la primimtive FT4)^^^^^^^"
^%ENVIRON("RD-GL2","HISTO")="D @($C(94)_""%PBMHIS"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^^"
^%ENVIRON("RD-GL2","IM")="W ""IM"" W:$D(%9M) %9M,"","",0,"","",0 W "";"",!^SPECIFIE LES CAS D'ERREURS QUE LA TABLE TRACANTE DOIT SIGNALER^%9M = MASQUE D'ERREURS, C'EST LA SOMME DES CODES VOULUS^1 = COMMANDE MECONNAISSABLE; 2 = NOMBRE DE PARAMETRES ERRONE^4 = VALEUR D'UN PARAMETRE EN DEHORS DES LIMITES PERMISES^16 = CARACTERE INUTILISABLE; 32 = OVERFLOW EN COORDONNEES^"
^%ENVIRON("RD-GL2","IN")="W ""IN;"",!^INITIALISATION DE LA TABLE TRACANTE^^^^^"
^%ENVIRON("RD-GL2","INCLIN")="W ""SL"" W:$D(%9TA) %9TA W "";"",!^FIXE L'INCLINAISON DES CARACTERES^^^^^"
^%ENVIRON("RD-GL2","INIT")="S ENVL(%TERM,""ETAT-CRAYON"")=""SANS-CRAYON"",ENVL(%TERM,""LTEXTMAX"")=999,ENVL(%TERM,""NO-PEN"")=1,ENVL(%TERM,""%PORT"")=%PORT W ""IN;"",! D @($C(94)_""%PBP3F"")^INITIALISATION DE LA TABLE TRACANTE^%PORT = PORTE DE LA TABLE, %TERM=""RD-GL2""^%9NCO = NOMBRE DE COLONNES (OPTIONNEL), 1 PAR DEFAUT^%9NLI = NOMBRE DE LIGNES   (OPTIONNEL), 1 PAR DEFAUT^^^^^^"
^%ENVIRON("RD-GL2","INIT.VARIABLES")="; I @(""$$CHARGERLOC""_$c(94)_""%EDCENVL()"") S %UU=1/0.3527,%LIMXCM=19.8,%LIMYCM=28.3,%LIMX=561,%LIMY=802,%9EPA=0.01,%9T=1,VALPLA="""",%TRSLTXH=15,%TRSLTYH=15,%TRSLTXV=15,%TRSLTYV=-15,%9O=""VERTICALE"",%TRSLTX=%TRSLTXV,%TRSLTY=%TRSLTYV d @(""CREERLOC""_$c(94)_""%EDCENVL"")^^^^^^^^^^"
^%ENVIRON("RD-GL2","IP")="W ""IP"",%9X1,"","",%9Y1,"","",%9X2,"","",%9Y2,"";"",!^FIXE P1 ET P2^%9X1,%9Y1 = COORDONNES DE P1^%9X2,%9Y2 = COORDONNES DE P2^^^"
^%ENVIRON("RD-GL2","IW")="W ""IW"",%9X1,"","",%9Y1,"","",%9X2,"","",%9Y2,"";"",!^FIXE LA ZONE D'IMPRESSION^^^^^"
^%ENVIRON("RD-GL2","LB")="W ""LB"",%9STR,!^IMPRESSION D'UNE CHAINE DE CARACTERES^%9STR = LA CHAINE DE CARACTERES A IMPRIMER, ON RECONNAIT LA FIN DE^CETTE CHAINE AU FAIT QUE LE DERNIER CARACTERE DE CETTE CHAINE EST^LE CARACTERE DEFINI PAR LA COMMANDE ""DT""^^"
^%ENVIRON("RD-GL2","LBREL")="D @($C(94)_""%PBP5LB"")^TRACE UNE LIGNE BRISE^%9LXY EST LA LISTE DES POINTS SUCCESSIFS^LES COORDONNEES DES POINTS SONT RELATIVES A LA POSITION DU CRAYON^^^^^^^"
^%ENVIRON("RD-GL2","LIGBRI")="D @($C(94)_""%PBP5LBR"")^IMPRESSION D'UNE LIGNE BRISEE DONT LES POINTS SONT DANS^LA LISTE %9LXY^EX : %9LXY=""1000,1000,2000,2000,3000,3000"" POUR UNE LIGNE BRISEE^PASSANT SUCCESSIVEMENT PAR LES POINTS (1000,1000), (2000,2000), ET^(3000,3000)^^^^^"
^%ENVIRON("RD-GL2","LO")="W ""LO"" W:$D(%9N) %9N "";"",!^SPECIFIE LA POSITION DES CHAINES DE CARACTERES PAR^RAPPORT A LA POSITION COURANTE DU CRAYON^%9N = POSITION, DE 1 A 9 ET DE 11 A 19, 1 PAR DEFAUT^^^"
^%ENVIRON("RD-GL2","LT")="W ""LT"" W:$D(%9N)&$D(%9P) %9N,"","",$J(%9P,1,3) W "";"",!^FIXE LE TYPE DE LIGNE DESIRE AINSI QUE LA TAILLE DES INTERVALLES POUR DES LIGNES EN ""POINTILLES""^%9N = TYPE DE LIGNE, DE -6 A 6, 0 PAR DEFAUT^%9P = TAILLE DES INTERVALES, DE 0 A 127, 1.5 PAR DEFAUT^^^^^^"
^%ENVIRON("RD-GL2","LTEXTMAX")="S ENVL(%TERM,""LTEXTMAX"")=%9LTMX^SPECIFIE LA LONGUEUR MAXIMALE DU TEXTE IMPRIME PAR^LA PRIMITIVE TEXT^^%9LTMX EST LE LONGUEUR MAX DES CHAINES IMPRIMES^%9LTMX = 999 --> PAS DE RESTRICTION TOUTE LA CHAINE EST IMPRIMEE^^^^^"
^%ENVIRON("RD-GL2","MOUV")="S ENVL(%TERM,""X"")=%9X,ENVL(%TERM,""Y"")=%9Y,%99X=%9X,%99Y=%9Y D @($C(94)_""%PBCAXY"") W ""PA;PU"",%9X,"","",%9Y,"";"",! S %9X=%99X,%9Y=%99Y^DEPLACEMENT JUSQU'AU POINT (%9X,%9Y)^^^^^^^^^"
^%ENVIRON("RD-GL2","MOUVREL")="S ENVL(%TERM,""X"")=ENVL(%TERM,""X"")+%9X,ENVL(%TERM,""Y"")=ENVL(%TERM,""Y"")+%9Y,%99X=%9X,%99Y=%9Y D @($C(94)_""%PBCARXY"") W ""PU;PR"",%9X,"","",%9Y,"";"",! S %9X=%99X,%9Y=%99Y^DEPLACEMENT DE %9X EN X ET %9Y EN Y^^^^^^^^^"
^%ENVIRON("RD-GL2","NUMERO")="D:$D(%9NO) @($C(94)_""%PBPZNO"")^IMPRESSION DU NUMERO %9NO EN HAUT A DROITE DANS LA PAGE^^^^^"
^%ENVIRON("RD-GL2","OA")="W ""OA;"",! R %9IN S %9X=$P(%9IN,"",""),%9IN=$E(%9IN,$F(%9IN,"",""),$L(%9IN)),%9Y=$P(%9IN,"",""),%9IN=$E(%9IN,$F(%9IN,"",""),$L(%9IN)),%9P=%9IN^LECTURE DE LA POSITION DU CRAYON ET DE SON ETAT^%9X,%9Y = LA POSITION^%9P = 0 ==> LEVE^%9P = 1 ==> ABAISSE^^"
^%ENVIRON("RD-GL2","OC")="W ""OC;"",! R %9I S %9X=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9Y=$P(%9I,"",""),%9P=$E(%9I,$F(%9I,"",""),$L(%9I))^LECTURE DE LA POSITION ET DE L'ETAT DEMANDES DU CRAYON^%9X,%9Y POSITION^%9P ETAT 0=LEVE, 1=ABAISSE^^^"
^%ENVIRON("RD-GL2","OD")="W ""OD;"",! R %9I S %9X=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9Y=$P(%9I,"",""),%9P=$E(%9I,$F(%9I,"",""),$L(%9I))^EN MODE ""NUMERISATION"" LECTURE DE LA POSITION ET DE L'ETAT DU CRAYON^%9X,%9Y = POSITION^%9P ETAT, 1=ABAISSE, 0=LEVE^^^"
^%ENVIRON("RD-GL2","OE")="W ""OE;"",! R %9E^LECTURE DU CODE D'ERREUR^%9E = LE CODE D'ERREUR EST LA SOMME DES CODES SUIVANTS^0 = PAS D'ERREUR; 1 = COMMANDE MECONNAISSABLE; 2 = MAUVAIS NOMBRE DE PARAMETRES; 4 = PARAMETRE INITILISABLE;^16 = JEU DE CARACTERES INUTILISABLE; 32 = OVERFLOW EN COORDONNEES^^"
^%ENVIRON("RD-GL2","OF")="W ""OF;"",! R %9U^LECTURE DU NOMBRE D'UNITES PAR MILLIMETRE^%9U = LE NOMBRE D'UNITES^^^^"
^%ENVIRON("RD-GL2","OH")="W ""OH;"",! R %9I S %9X1=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9Y1=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9X2=$P(%9I,"",""),%9Y2=$E(%9I,$F(%9I,"",""),$L(%9I))^LECTURE DES LIMITES HARDWARE DE LA TABLE TRACANTE^%9X1,%9Y1 = COIN EN BAS A GAUCHE^%9X2,%9Y2 = COIN EN HAUT A DROITE^^^"
^%ENVIRON("RD-GL2","OI")="W ""OI;"",! R %9N^LECTURE DU NOM DE LA TABLE TRACANTE^%9N = NOM DE LA TABLE^^^^"
^%ENVIRON("RD-GL2","OL")="W ""OL;"",! R %9I S %9L=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9C=$P(%9I,"",""),%9LF=$E(%9I,$F(%9I,"",""),$L(%9I))^LECTURE DE LA TAILLE DE LA CHAINE DE CARACTERES STOCKEE^PAR LA COMMANDE ""BL""^%9L = LA LONGUEUR PHYSIQUE DE LA CHAINE^%9C = NOMBRE DE CARACTERE DANS LA CHAINE^%9LF = NOMBRE DE LINE-FEED DANS LA CHAINE^"
^%ENVIRON("RD-GL2","OO")="W ""OO;"",! R %9I S %9P1=$E(%9I,3,3),%9P2=$E(%9I,9,9),%9P3=$E(%9I,11,11)^LECTURE DES OPTIONS^%9P1 = CHANGEMENT DE CRAYON AUTORISE (0/1)^%9P2 = COMMANDES POUR LES ARCS ET LES CERCLES (0/1)^%9P3 = COMMANDES DE REMPLISSAGE DE POLYGONES (0/1)^^"
^%ENVIRON("RD-GL2","OP")="W ""OP;"",! R %9I S %9X1=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9Y1=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9X2=$P(%9I,"",""),%9Y2=$E(%9I,$F(%9I,"",""),$L(%9I))^LECTURE DES VALEURS DE P1 ET P2^%9X1,%9Y1 = POSITION DE P1^^^^"
^%ENVIRON("RD-GL2","OS")="W ""OS;"",! R %9S^LECTURE DE L'ETAT DE LA TABLE TRACANTE^%9S = ETAT^1=CRAYON LEVE; 2 = P1 OU P2 ON ETE CHANGES; 4 = ON PEUT FAIRE ""OD""^8 = INITIALISEE; 32 = ERREUR^^"
^%ENVIRON("RD-GL2","OT")="W ""OT;"",! R %9T^ETAT DES CRAYONS (MONTES/NON MONTES DANS LEURS LOGEMENTS)^%9T = ETAT, C'EST LA SOMME DES ENTIERS 1,2,4,8,16,32,64,ET 128^CHAQUE ENTIER CORRESPOND RESPECTIVEMENT AUX CRAYONS 1,2,3,4,5,6,7,ET 8^LA VALEUR 0 SIGNIFIE QU'IL N'Y A AUCUN CRAYON DE MONTE SUR LA TABLE^^"
^%ENVIRON("RD-GL2","OW")="W ""OW;"",! R %9I S %9X1=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9Y1=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9X2=$P(%9I,"",""),%9Y2=$E(%9I,$F(%9I,"",""),$L(%9I))^LECTURE DE LA TAILLE DE LA FENETRE^%9X1,%9Y1 = POSITION DU COIN EN BAS A GAUCHE^%9X2,%9Y2 = POSITION DU COIN EN HAUT A DROITE^^^"
^%ENVIRON("RD-GL2","PA")="W ""PA"" W:$D(%9LXY) %9LXY W "";"",!^DEPLACEMENTS EN COORDONNEES ABSOLUES^%9LXY = LISTE DES POINTS DU PARCOURS^EX %9LXY=""1000,2000,2000,3000"" ON PASSE PAR LES POINTS 1000,2000^PUIS 2000,3000^^^^^"
^%ENVIRON("RD-GL2","PB")="W ""PB;"",!^IMPRESSION DE LA CHAINE DE CARACTERES STOCKEE PAR ""BL""^^^^^"
^%ENVIRON("RD-GL2","PD")="W ""PD"" W:$D(%9LXY) %9LXY W "";"",!^DEPLACEMENT CRAYON BAISSE^^^^^^^^"
^%ENVIRON("RD-GL2","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir ^PTPLANNI pour + de details^^^^^^^^"
^%ENVIRON("RD-GL2","PM")="W ""PM"",%9N,"";"",!^MODE POLYGONE^%9N = 0 ==> ENTREE DANS LE MODE POLYGONE^%9N = 1 ==> RETOUR DU DERNIER MODE POLYGONE^%9N = 2 ==> SORTIE DEFINITIVE DU MODE POLYGONE^^"
^%ENVIRON("RD-GL2","POINT")="S %99X=%9X,%99Y=%9Y D @($C(94)_""%PBCAXY"") W ""PA;PU"",%9X,"","",%9Y,"";PD;PU;"",! S %9X=%99X,%9Y=%99Y^IMPRESSION D'UN POINT DONT LES COORDONNEES SONT %9X ET %9Y^^^^^^^^"
^%ENVIRON("RD-GL2","POINTREL")="S %99X=%9X,%99Y=%9Y D @($C(94)_""%PBCARXY"") W ""PU;PR"",%9X,"","",%9Y,"";PD;PU;"",! S %9X=%99X,%9Y=%99Y^IMPRESSION D'UN POINT SOUS LE CRAYON^^^^^^^^"
^%ENVIRON("RD-GL2","POLICE")="W ""SL"" W:$D(%9P) $S(%9P=""ITALIQUE"":0.25,1:"""") W "";"",!^CHOIX DE LA POLICE DE CARACTERES^%9P EST LA POLICE CHOISIE^%9P = ""ITALIQUE"" --> CARACTERES EN ITALIQUE^%9P = ""STANDARD"" --> CARACTERES DROITS^^"
^%ENVIRON("RD-GL2","POS")="W ""OA;"",! R %9I S %9X=$P(%9I,"",""),%9I=$E(%9I,$F(%9I,"",""),$L(%9I)),%9Y=$P(%9I,"",""),%9P=$E(%9I,$F(%9I,"",""),$L(%9I))^LECTURE DE LA POSITION DU CRAYON^AUCUN PARAMETRE^%9X ET %9Y EN RESULTAT = LA POSITION DU CRAYON^^^"
^%ENVIRON("RD-GL2","POSER")="I ENVL(%TERM,""ETAT-CRAYON"")=""TENU"" S ENVL(%TERM,""ETAT-CRAYON"")=""SANS-CRAYON"" W ""SP0;""^POSE LE CRAYON^^^^^^^^^"
^%ENVIRON("RD-GL2","PR")="W ""PR"" W:$D(%9LXY) %9LXY W "";"",!^DEPLACEMENTS RELATIFS^%9LXY = LISTE DES DEPLACEMENTS RELATIFS^EX : %9LXY = ""100,100,200,-300"" ON SE DEPLACE DE 100 EN X ET 100 EN Y^PUIS DE 200 EN X ET -300 EN Y^^^^^"
^%ENVIRON("RD-GL2","PRENDRE")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"" W ""SP"",ENVL(%TERM,""NO-PEN""),"";"",!^PRISE DU CRAYON^^^^^^^^^"
^%ENVIRON("RD-GL2","PRINTER")="D @(""NOUVPAG""_$C(94)_""%EDCRDGL"")^%VZEAVT($$^%QZCHW(""Installez une nouvelle feuille"")) U %PORT^saut de page^^^^^^^^^"
^%ENVIRON("RD-GL2","PT")="W ""PBPZ"" W:$D(%9D) %9D W "";"",!^FIXE L'EPAISSEUR DU TRAIT^DEPENDANT DU TYPE DE CRAYON UTILISE^^^^"
^%ENVIRON("RD-GL2","PU")="W ""PU"" W:$D(%9LXY) %9LXY W "";"",!^DEPLACEMENTS CRAYON LEVE^%9LXY = LISTE DES POINTS DU PARCOURS^^^^^^^"
^%ENVIRON("RD-GL2","QUARPLEIN")="S %99X=%9X,%99Y=%9Y,%99R=%9R D @($C(94)_""%PBCAXY"") W ""PU;PA"",%9X,"","",%9Y,"";FT3,"",$J(ENVL(%TERM,""W"")*200,1,3),"",45;WG"",$J(%9R,1,3),"","",$J(%9AD,1,3),"","",$J(%9AF-%9AD,1,3),"";FT;"",! S %9X=%99X,%9Y=%99Y,%9R=%99R^REMPLISSAGE D'UN QUARTIER DE DISQUE^%9R = RAYON DU DISQUE^%9X,%9Y = POSITION DU CENTRE DU DISQUE^%9A,%9F = ANGLES DE DEBUT ET DE FIN DU QUARTIER DE DISQUE^^^^^"
^%ENVIRON("RD-GL2","QUARTIER")="S %99X=%9X,%99Y=%9Y,%99R=%9R D @($C(94)_""%PBCAXY"") W ""PU;PA"",%9X,"","",%9Y,"";EW"",%9R,"","",$J(%9AD,1,3),"","",$J(%9AF-%9AD,1,3),"";"",! S %9X=%99X,%9Y=%99Y,%9R=%99R^DESSINE UN QUARTIER DE DISQUE^%9X,%9Y = POSITION DU CENTRE DU DISQUE^%9A,%9F = ANGLES DE DEPART ET DE FIN DU QUARTIER^%9R     = RAYON DU QUARTIER^^^^^"
^%ENVIRON("RD-GL2","RA")="W ""RA"",%9X,"","",%9Y,"";"",!^HACHURE L'INTERIEUR D'UN RECTANGLE^LE RECTANGLE EST DEFINI PAR DEUX POINTS : LA POSITION COURANTE DU CRAYON^^^^^^^"
^%ENVIRON("RD-GL2","RECT")="S %99X1=%9X1,%99X2=%9X2,%99Y1=%9Y1,%99Y2=%9Y2 D @($C(94)_""%PBCAX1"") W ""PA;PU"",%9X1,"","",%9Y1,""PD;EA"",%9X2,"","",%9Y2,"";PU;"",! S %9X1=%99X1,%9X2=%99X2,%9Y1=%99Y1,%9Y2=%99Y2^IMPRESSION D'UN RECTANGLE^%9X1,%9Y1 POSITION DU COIN EN BAS A GAUCHE^%9X2,%9Y2 POSITION DU COIN EN HAUT A DROITE^^^^^^"
^%ENVIRON("RD-GL2","RECTREL")="S %99X1=%9X1,%99X2=%9X2,%99Y1=%9Y1,%99Y2=%9Y2 D @($C(94)_""%PBCARXY"") W ""PR;PD;ER"",%9X,"","",%9Y,"";PU;"",! S %9X1=%99X1,%9X2=%99X2,%9Y1=%99Y1,%9Y2=%99Y2^IMPRESSION D'UN RECTANGLE^LE RECTANGLE EST DEFINI PAR DEUX POINTS:^1/ LA POSITION DU CRAYON^2/ LE POINT (%9X,%9Y) DONT LES COORDONNEES SONT EXPRIMEES RELATIVEMENT^A LA POSITION DU CRAYON^^^^"
^%ENVIRON("RD-GL2","RO")="W ""RO"" W:$D(%9N) %9N W "";"",!^ROTATION DU SYSTEME DE COORDONNEES^%9N (OPTIONNEL) = ANGLE DE LA ROTATION, 0 OU 90 DEGRES, 0 PAR DEFAUT^^^^"
^%ENVIRON("RD-GL2","ROTEXTE")="W ""DI"" W:$D(%9R) $S(%9R#360=0:""1,0"",%9R#360=90:""0,1"",%9R#360=180:""-1,0"",%9R#360=270:""0,-1"") W "";"",!^SENS D'IMPRESSION DU TEXTE^%9R EST L'ANGLE D'IMPRESSION^%9R = 0 ==> HORIZONTALE DE GAUCHE A DROITE, %9R = 90 ==> VERTICALE DE BAS EN HAUT^%9R = 180 ==> HORIZONTALE DE DROITE A GAUCHE^%9R = 270 ==> VERTICALE DE HAUT EN BAS^^^^"
^%ENVIRON("RD-GL2","RR")="W ""RR"",%9X,"","",%9Y,"";"",!^^^^^^^^^"
^%ENVIRON("RD-GL2","SA")="W ""SA:"",!^SELECTIONNE LE DEUXIEME JEU DE CARACTERES POUR L'IMPRESSION DES CARACTERES^^^^^"
^%ENVIRON("RD-GL2","SC")="W ""SC"",%9X1,"","",%9Y1,"","",%9X2,"","",%Y2,"";"",!^^^^^^"
^%ENVIRON("RD-GL2","SEG")="D @($C(94)_""%PBP3SE"")^trace d'un segment^^^^^^^^^"
^%ENVIRON("RD-GL2","SEGMENT")="D @($C(94)_""%PBP5SG"")^IMPRESSION D'UN SEGMENT DE DROITE ENTER LES POINTS^(%9X1,%9Y1) ET (%9X2,%9Y2)^^^^^^^^"
^%ENVIRON("RD-GL2","SEGMENT.TEXTE")="U %PORT W ""PA;PU"",%9X1*10,"","",(%LIMYCM-%9Y1)*10,"";PD"",%9X2*10,"","",(%LIMYCM-%9Y2)*10,"";PU;"",!^trace d'un segment^coordonnees %9 exprimees en cm^les conversions sont faites par la table tracante^grace aux initialisations de repere et d'echelle faites dans le init^^^^^^"
^%ENVIRON("RD-GL2","SEGR")="D @($C(94)_""%PBP3SER"")^trace d'un segment relatif^^^^^^^^^"
^%ENVIRON("RD-GL2","SEGREL")="D @($C(94)_""%PBP5SGR"")^DESSIN D'UN SEGMENT ENTRE LA POSITION ACTUELLE DU SEGMENT^ET LA POSITION (%9X,%9Y)^%9X ET %9Y SONT DES COORDONNEES RELATIVES A LA POSITION DU CRAYON^^^^^^^"
^%ENVIRON("RD-GL2","SI")="W ""SI"" W:$D(%9W)&$D(%9H) %9W,"","",%9H W "";"",!^FIXE LA TAILLE DES CARACTERES^%9W = LARGEUR, 0.19 PAR DEFAUT^^^^"
^%ENVIRON("RD-GL2","SL")="W ""SL"" W:$D(%9TA) %9TA W "";"",!^FIXE L'INCLINAISON DES CARACTERES^^^^^"
^%ENVIRON("RD-GL2","SM")="W ""SM"" W:$D(%9K) %9K W "";"",!^DESSINE UN SYMBOLE^^^^^"
^%ENVIRON("RD-GL2","SP")="W ""SP"" W:$D(%9N) %9N W "";"",!^SELECTIONNE UN CRAYON^^^^^"
^%ENVIRON("RD-GL2","SR")="W ""SR"" W:$D(%9W)&$D(%9H) %9W,"","",%9H W "";"",!^FIXE LA TAILLE DES CARACTERES RELATIVEMENT A LA TAILLE ACTUELLE^%9W = MODIFICATION DE LA LARGEUR^^^^"
^%ENVIRON("RD-GL2","SS")="W ""SS;"",!^^^^^^"
^%ENVIRON("RD-GL2","STANDARD")="^^^^^^^^^^"
^%ENVIRON("RD-GL2","TAILLE")="D:'$D(%9MOD) @($C(94)_""%PBP3TAI"") I $D(%9MOD) S ENVL(%TERM,""W"")=ENVL(%TERM,""W"")*%9MOD,ENVL(%TERM,""H"")=ENVL(%TERM,""H"")*%9MOD W ""SI"",$J(ENVL(%TERM,""W""),1,3),"","",$J(ENVL(%TERM,""H""),1,3),"";"",!^MODIFICATION DE LA TAILLE DES CARACTERES^%9MOD EST LE FACTEUR DE MULTIPLICATION DE LA LARGEUR ET DE LA HAUTEUR^DES CARACTERES^^^^^^^"
^%ENVIRON("RD-GL2","TEXT")="D @(""TEXT""_$C(94)_""%EDCRDGL"")^^IMPRESSION DE TEXTE EN X, Y^appelait auparavant %EDCRDGL^^^^^^^"
^%ENVIRON("RD-GL2","TL")="W ""TL"" W:$D(%9LP) %9LP W:$D(%9LN) "","",%9LN W "";"",!^FIXE L'INTERVALE UTILISE PAR LES COMMANDES ""XT"" ET ""YT""^%9LP = INTERVALE DANS LE SENS POSITIF^%9LN = INTERVALE DANS LE SENS NEGATIF^^^"
^%ENVIRON("RD-GL2","TRACER.POLYGONE")="W ""EP;""^Trace le pourtour du polygone defini par^DEBUT.POLYGONE et FIN.POLYGONE^^^^^^^^"
^%ENVIRON("RD-GL2","TYPLIGNE")="W:%9TL=""F"" ""LT;"",! I ""P.M.C.L""[%9TL W ""LT"",$E(""P1C6M5L4"",$F(""P1C6M5L4"",%9TL)),"","",ENVL(%TERM,""PITCH""),"";"",!^SELECTIONNE UN TYPE DE LIGNE^%9TL EST LE TYPE DE LIGNE^F --> LIGNE PLEINE^P --> POINTILLES^C --> TRAITS COURTS + POINTS^M --> TRAITS MOYENS + POINTS^L --> TRAITS LONGS  + POINTS^^^"
^%ENVIRON("RD-GL2","UC")="W ""UC"" W:$D(%9LXY) %9LXY W "";"",!^IMPRESSION D'UN CARACTERE SPECIAL^^^^^"
^%ENVIRON("RD-GL2","UF")="W ""UF"",%9LD,"";"",!^SPECIFICATION PAR L'UTILISATION D'UNE ""TRAME"" DE REMPLISSAGE^%9LD EST LA LISTE DES INTERVALES ENTRE LES LIGNES SUCCESIVES DU^HACHURAGE^^^"
^%ENVIRON("RD-GL2","VS")="W ""VS"",%9V,"";"",!^FIXE LA VITESSE DU CRAYON^%9V = VITESSE, DE 2 A 23 CM/S, 23 PAR DEFAUT^^^^"
^%ENVIRON("RD-GL2","WG")="W ""WG"",%9R,"","",%9T1,"","",%9TC,"";"",!^REMPLIT UN QUARTIER DE DISQUE^%9R = RAYON, DE -32767 A 32767^%9T1 = ANGLE DE DEPART, DE -360 A 360 DEGRES^%9TC = CENTRE DU QUARTIER, DE -360 A 360 DEGRES^^"
^%ENVIRON("RD-GL2","XT")="W ""XT;"",!^^^^^^"
^%ENVIRON("RD-GL2","YT")="W ""YT;"",!^^^^^^"
^%ENVIRON("SD","ARC")="D ARC^%SDECAC"
^%ENVIRON("SD","CERCLE")="D CERCLE^%SDECAC"
^%ENVIRON("SD","DEMIE-ELLIPSE")="D DEMIE^%SDECAC"
^%ENVIRON("SD","ELLIPSE")="D ELLIP^%SDECAC"
^%ENVIRON("SD","FLECHE")="D FLECH^%SDECAC"
^%ENVIRON("SD","POINT")="D POINT^%SDECAC"
^%ENVIRON("SD","RACCORD")="D RACCO^%SDECAC"
^%ENVIRON("SD","RECTANGLE")="D RECTA^%SDECAC"
^%ENVIRON("SD","TEXTE")="D TEXTE^%SDECAC"
^%ENVIRON("SD","TRAIT")="D TRAIT^%SDECAC"
^%ENVIRON("TEKTRO-4014","ARC")="D @(""ARC""_$C(94)_""%PBTEKEL"")^TRACE UN ARC DE CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = EXTREMITE (SENS TRIGO) DE L'ARC^%9AD = ANGLE DE DEPART^%9AF = ANGLE DE FIN^^^^"
^%ENVIRON("TEKTRO-4014","ARCREL")="D @($C(94)_""%PBP5ARR"")^TRACE UN ARC DE CERCLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = EXTREMITE (SENS TRIGO) DE L'ARC^%9AD = ANGLE DE DEPART^%9AF = ANGLE DE FIN^^^^"
^%ENVIRON("TEKTRO-4014","CADRE")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"",%9LXY=""0,0,4090,0,4090,3119,0,3119,0,0"" D @($C(94)_""%PBP5LBR"") S %FONC=""CADRE""^TRACE LE CADRE DE LA FENETRE^UNE SEULE FENETRE = L'ECRAN TOTAL^^^^^^^^"
^%ENVIRON("TEKTRO-4014","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^"
^%ENVIRON("TEKTRO-4014","CARRE")="S %99LXY=%9LXY,%9LXY=%9X_"",""_%9Y_"",""_(%9X+%9L)_"",""_%9Y_"",""_(%9X+%9L)_"",""_(%9Y+%9L)_"",""_%9X_"",""_(%9Y+%9L)_"",""_%9X_"",""_%9Y D @($C(94)_""%PBP5LBR"") S %9LXY=%99LXY^DESSINE UN CARRE^%9X,%9Y = COORDONNEES DU COIN EN BAS A GAUCHE DU CARRE^%9L = LONGUEUR D'UN COTE^^^^^^^"
^%ENVIRON("TEKTRO-4014","CERCLE")="D @($C(94)_""%PBTEKEL"")^TRACE UN CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = A ZERO DEGRES (SENS TRIGO CLASSIQUE)^^^^^^"
^%ENVIRON("TEKTRO-4014","CERREL")="D @($C(94)_""%PBP5CER"")^TRACE UN CERCLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES RELATIVES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = A ZERO DEGRES (SENS TRIGO CLASSIQUE)^^^^^^"
^%ENVIRON("TEKTRO-4014","CLEAR")="W *27,*12^CHANGEMENT DE FENETRE PHYSIQUE^POUR L'INSTANT IL S'AGIT D'UN EFFACEMENT TOTAL DE L'ECRAN^IL N'Y A PAS DE FENETRAGE A L'ECRAN^^^^^^^"
^%ENVIRON("TEKTRO-4014","COURBE")="D @($C(94)_""%PBMHCOU"")^DESSINE UNE COURBE SUR L'ECRAN^MEME STRUCTURE HISTO QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("TEKTRO-4014","CRAYON")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU""^IDEM CRAYON SUR RD-GL2, MAIS ON A PAS LA COULEUR A L'ECRAN^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","CROSSHAIR")="W *27,*26,*27,*24 N A,B,C,D R *%9RES,*A,*B,*C,*D D @(""XY""_$C(94)_""%PBCATEK(A,B,C,D,.%9X,.%9Y)"")^PTEK4014(A,B,C,D,.%9X,.%9Y)^PASSAGE EN MODE CROSSHAIR^%9RES = CARACTERE FRAPPE^%9X,%9Y = POSITION DU CURSEUR^^^^^^"
^%ENVIRON("TEKTRO-4014","CUROFF")="W *27,0^fait disparaitre le curseur^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","CURON")="W *27,2^fait apparaitre le curseur^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("TEKTRO-4014","EFFACEMENT")="W *27,6^^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","ELLIPSE")="D @($C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("TEKTRO-4014","EPAISSEUR")="D @($C(94)_""%PBCAEP"")^Epaisseur du trait^%9EPA nouvelle epaisseur en cm^^^^^^^^"
^%ENVIRON("TEKTRO-4014","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("TEKTRO-4014","ETOILE")="D @($C(94)_""%PBMHETO"")^DESSINE UN HISTOGRAMME EN ETOILE^MEME STRUCTURE ""HISTO"" EN ENTREE QUE LA PRIMITIVE ""HISTO""^^^^"
^%ENVIRON("TEKTRO-4014","GOALFA")="W *27,*91,""?38l"",!^Passage en mode alphanumerique normal^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","GOGRA")="W *27,*91,""?38h"",!^Passage en mode graphique normal^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","GRAPHOF")="W *27,""[=8l""^efface l'affichage graphique^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","GRAPHON")="W *27,""[=8h""^reaffiche la memoire graphique^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","HISTO")="D @($C(94)_""%PBMHIS"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^"
^%ENVIRON("TEKTRO-4014","INIT")="S ENVL(%TERM,""W"")=1,ENVL(%TERM,""H"")=1,ENVL(%TERM,""LTEXTMAX"")=999,ENVL(%TERM,""%PORT"")=%PORT,(ENVL(%TERM,""X""),ENVL(%TERM,""Y""))=0 D @($C(94)_""%PBP5FG"") W *27,8,*31,!^INITIALISATION DE L'ECRAN PT-100G^%PORT = PORTE DE L'ECRAN (EN GENERAL 0), %TERM=""PBPZ-100G""^%9NCO = NOMBRE DE COLONNES (OPTIONNEL), 1 PAR DEFAUT^%9NLI = NOMBRE DE LIGNES   (OPTIONNEL), 1 PAR DEFAUT^POSITION INITIALE DU CRAYON : (0,0)^^^^^"
^%ENVIRON("TEKTRO-4014","LBREL")="D @($C(94)_""%PBP5LB"")^DESSINE UNE LIGNE BRISEE EN COORDONNEES RELATIVES^%9LXY= LISTE DES POINTS A ATTEINDRE^^^^^^^^"
^%ENVIRON("TEKTRO-4014","LIGBRI")="D @($C(94)_""%PBP5LBR"")^DESSINE UNE LIGNE BRISEE DANS LA FENETRE COURANTE^%9LXY = LISTE DES COORDONNEES DES POINTS SUCCESSIFS DE LA LIGNE BRISEE^^^^^^^^"
^%ENVIRON("TEKTRO-4014","LTEXTMAX")="S ENVL(%TERM,""LTEXTMAX"")=%9LTMX^SPECIFIE LA LONGUEUR MAXIMALE DU TEXTE IMPRIME PAR^LA PRIMITIVE TEXT^^%9LTMX EST LE LONGUEUR MAX DES CHAINES IMPRIMES^%9LTMX = -1 --> PAS DE RESTRICTION TOUTE LA CHAINE EST IMPRIMEE^^^^^"
^%ENVIRON("TEKTRO-4014","MOUV")="W *27,*29 D @($C(94)_""%PBP5MV"")^DEPLACEMENT ABSOLU SANS TRACAGE^%9X,%9Y = COORDONNEES DU POINT A ATTEINDRE^^^^^^^^"
^%ENVIRON("TEKTRO-4014","MOUVREL")="D @($C(94)_""%PBP5MVR"")^MOUVEMENT RELATIF A LA POSITION COURANTE^%9X,%9Y = DEPLACEMENT RELATIF^^^^^^^^"
^%ENVIRON("TEKTRO-4014","NORMAL")=";W *27,""OW `` @@""^^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","NUMERO")="D:$D(%9NO) @($C(94)_""%PBPZNO"")^IMPRESSION DU NUMERO %9NO EN HAUT A DROITE DANS LA PAGE^^^^^"
^%ENVIRON("TEKTRO-4014","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir ^PTPLANNI pour + de details^^^^^^^^"
^%ENVIRON("TEKTRO-4014","POINT")="D @($C(94)_""%PBP1PNT"")^DESSINE UN POINT^%9X,%9Y = COORDONEES DU POINT^^^^^^^^"
^%ENVIRON("TEKTRO-4014","POSER")="S ENVL(%TERM,""ETAT-CRAYON"")=""SANS-CRAYON"" W *27,*93,!^POSE LE CRAYON, OU MODE ""PBPZTOF""^AUCUN PARAMETRE^^^^^^^^"
^%ENVIRON("TEKTRO-4014","PRENDRE")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"" W *27,""OW `` @@"",!^PRISE DU CRAYON OU MODE ""PBPZTON""^AUCUN PARAMETRE^^^^^^^^"
^%ENVIRON("TEKTRO-4014","QUARTIER")="D @($C(94)_""%PBP5QU"")^TRACE UN QUARTIER DE CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^%9AD = ANGLE DE DEBUT^%9AF = ANGLE DE FIN^^^^^"
^%ENVIRON("TEKTRO-4014","REAFFICHAGE")="D @(""RR""_$C(94)_""%PBIMCR2"")^reaffichege de la fenetre et du dessin^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","RECT")="S %99LXY=%9LXY,%9LXY=%9X1_"",""_%9Y1_"",""_%9X2_"",""_%9Y1_"",""_%9X2_"",""_%9Y2_"",""_%9X1_"",""_%9Y2_"",""_%9X1_"",""_%9Y1 D @($C(94)_""%PBP5LBR"") S %9LXY=%99LXY^TRACE UN RECTANGLE^%9X1,%9Y1 = COIN EN BAS A GAUCHE DU RECTANGLE^%9X2,%9Y2 = COIN EN HAUT A DROITE DU RECTANGLE^^^^^^^"
^%ENVIRON("TEKTRO-4014","RECTREL")="S %9LXY=ENVL(%TERM,""X"")_"",""_ENVL(%TERM,""Y"")_"",""_(ENVL(%TERM,""X"")+%9X)_"",""_ENVL(%TERM,""Y"")_"",""_(ENVL(%TERM,""X"")+%9X)_"",""_(ENVL(%TERM,""Y"")+%9Y)_"",""_ENVL(%TERM,""X"")_"",""_(ENVL(%TERM,""Y"")+%9Y)_"",""_ENVL(%TERM,""X"")_"",""_ENVL(%TERM,""Y"") D @($C(94)_""%PBP5LBR"")^TRACE UN RECTANGLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES DU COIN OPPOSE (EN HAUT A DROITE) DU RECTANGLE^^^^^^^^"
^%ENVIRON("TEKTRO-4014","SEG")="D @($C(94)_""%PBP5SE"") U %PORT W *27,""e""^trace d'un segment^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","SEGMENT")="D @($C(94)_""%PBP5SG"")^DESSINE UN SEGMENT DE DROITE DANS LA FENETRE COURANTE^%9X1,%9Y1,%9X2,%9Y2 = COORDONNEES DES DEUX EXTREMITES DU SEGMENT^^^^^^^^"
^%ENVIRON("TEKTRO-4014","SEGR")="D @($C(94)_""%PBP5SER"")^trace d'un segment relatif^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","SEGREL")="D @($C(94)_""%PBP5SGR"")^TRACE UN SEGMENT RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = POSITION RELATIVE DE L'AUTRE EXTREMITE DU SEGMENT^^^^^^^^"
^%ENVIRON("TEKTRO-4014","STANDARD")="^^^^^^^^^^"
^%ENVIRON("TEKTRO-4014","TAILLE")="D:'$D(%9MOD) @($C(94)_""%PBP5TAI"") I $D(%9MOD) W:%9MOD<1 *27,"";"" W:%9MOD'<1 *27,8^MODIFIE LA TAILLE DES CARACTERES^%9MOD EST LE FACTEUR DE MODIFICATION^%9MOD<1 ---> PETITE POLICE^%9MOD'<1 --> GRANDE POLICE^IL Y A EN FAIT 4 TAILLES, 2 GRANDES ET 2 PETITES, ELLES SONT TELLEMENT^PROCHES QUE DEUX SEULEMENT ONT ETE RETENUES SUR LES 4 : LA PLUS GRANDE^(POLICE STANDARD) ET LA PLUS PETITE^^^"
^%ENVIRON("TEKTRO-4014","TEXT")="W *31,$E(%9STR,1,ENVL(%TERM,""LTEXTMAX"")),!^IMPRESSION DE TEXTE A L'ECRAN^%9STR EST LE TEXTE A IMPRIMER^^^^^^^^"
^%ENVIRON("TEKTRO-4014","TYPLIGNE")="I ""F.P.M.C.L""[%9TL W *27,$E(""F\PaMbCcLd"",$F(""F\PaMbCcLd"",%9TL))^SELECTIONNE LE TYPE DE LIGNE A AFFICHER^%9TL = LE TYPE DE LIGNE^F --> LIGNE PLEINE^P --> POINTILLES^C --> TRAITS COURTS + POINTS^M --> TRAITS MOYENS + POINTS^L --> TRAITS LONGS  + POINTS^^^"
^%ENVIRON("VT-340","ARC")="D @(""ARC""_$C(94)_""%PBTEKEL"")^TRACE UN ARC DE CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = EXTREMITE (SENS TRIGO) DE L'ARC^%9AD = ANGLE DE DEPART^%9AF = ANGLE DE FIN^^^^"
^%ENVIRON("VT-340","ARCREL")="D @($C(94)_""%PBP5ARR"")^TRACE UN ARC DE CERCLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = EXTREMITE (SENS TRIGO) DE L'ARC^%9AD = ANGLE DE DEPART^%9AF = ANGLE DE FIN^^^^"
^%ENVIRON("VT-340","CADRE")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"",%9LXY=""0,0,4090,0,4090,3119,0,3119,0,0"" D @($C(94)_""%PBP5LBR"") S %FONC=""CADRE""^TRACE LE CADRE DE LA FENETRE^UNE SEULE FENETRE = L'ECRAN TOTAL^^^^^^^^"
^%ENVIRON("VT-340","CAMEMBERT")="D @($C(94)_""%PBMHCAM"")^DESSINE UN CAMEMBERT^MEME STRUCTURE ""HISTO"" QUE LA PRIMITIVE ""HISTO""^^^^^^^"
^%ENVIRON("VT-340","CARRE")="S %99LXY=%9LXY,%9LXY=%9X_"",""_%9Y_"",""_(%9X+%9L)_"",""_%9Y_"",""_(%9X+%9L)_"",""_(%9Y+%9L)_"",""_%9X_"",""_(%9Y+%9L)_"",""_%9X_"",""_%9Y D @($C(94)_""%PBP5LBR"") S %9LXY=%99LXY^DESSINE UN CARRE^%9X,%9Y = COORDONNEES DU COIN EN BAS A GAUCHE DU CARRE^%9L = LONGUEUR D'UN COTE^^^^^^^"
^%ENVIRON("VT-340","CERCLE")="D @($C(94)_""%PBTEKEL"")^TRACE UN CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = A ZERO DEGRES (SENS TRIGO CLASSIQUE)^^^^^^"
^%ENVIRON("VT-340","CERREL")="D @($C(94)_""%PBP5CER"")^TRACE UN CERCLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES RELATIVES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^POSITION FINALE = A ZERO DEGRES (SENS TRIGO CLASSIQUE)^^^^^^"
^%ENVIRON("VT-340","CLEAR")="W *27,*12^CHANGEMENT DE FENETRE PHYSIQUE^POUR L'INSTANT IL S'AGIT D'UN EFFACEMENT TOTAL DE L'ECRAN^IL N'Y A PAS DE FENETRAGE A L'ECRAN^^^^^^^"
^%ENVIRON("VT-340","COURBE")="D @($C(94)_""%PBMHCOU"")^DESSINE UNE COURBE SUR L'ECRAN^MEME STRUCTURE HISTO QUE LA PRIMITIVE ""HISTO""^^^^^^^^"
^%ENVIRON("VT-340","CRAYON")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU""^IDEM CRAYON SUR RD-GL2, MAIS ON A PAS LA COULEUR A L'ECRAN^^^^^^^^^"
^%ENVIRON("VT-340","CROSSHAIR")="W *27,*26,*27,*24 N A,B,C,D R *%9RES,*A,*B,*C,*D D @(""XY""_$C(94)_""%PBCATEK(A,B,C,D,.%9X,.%9Y)"")^PTEK4014(A,B,C,D,.%9X,.%9Y)^PASSAGE EN MODE CROSSHAIR^%9RES = CARACTERE FRAPPE^%9X,%9Y = POSITION DU CURSEUR^^^^^^"
^%ENVIRON("VT-340","CUROFF")="W *27,0^fait disparaitre le curseur^^^^^^^^^"
^%ENVIRON("VT-340","CURON")="W *27,2^fait apparaitre le curseur^^^^^^^^^"
^%ENVIRON("VT-340","DEMIE")="D @(""DEMIE""_$C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("VT-340","EFFACEMENT")="W *27,6^^^^^^^^^^"
^%ENVIRON("VT-340","ELLIPSE")="D @($C(94)_""%PBELLIP"")^Dessine une ellipseA^%9X,%9Y : centre de l'ellipse^%9PR,%9GR : 1er et 2eme rayons^%9I : inclinaison^^^^^^"
^%ENVIRON("VT-340","EPAISSEUR")="D @($C(94)_""%PBCAEP"")^Epaisseur du trait^%9EPA nouvelle epaisseur en cm^^^^^^^^"
^%ENVIRON("VT-340","EPAISSEUR-NORMALE")="K ENVL(%TERM,""EPAISSEUR"")^Retour a une epaisseur normale de trait apres utilisation de^EPAISSEUR^^^^^^^^"
^%ENVIRON("VT-340","ETOILE")="D @($C(94)_""%PBMHETO"")^DESSINE UN HISTOGRAMME EN ETOILE^MEME STRUCTURE ""HISTO"" EN ENTREE QUE LA PRIMITIVE ""HISTO""^^^^"
^%ENVIRON("VT-340","GOALFA")="W *27,*91,""?38l"",!^Passage en mode alphanumerique normal^^^^^^^^^"
^%ENVIRON("VT-340","GOGRA")="W *27,*91,""?38h"",!^Passage en mode graphique normal^^^^^^^^^"
^%ENVIRON("VT-340","GRAPHOF")="W *27,""[=8l""^efface l'affichage graphique^^^^^^^^^"
^%ENVIRON("VT-340","GRAPHON")="W *27,""[=8h""^reaffiche la memoire graphique^^^^^^^^^"
^%ENVIRON("VT-340","HISTO")="D @($C(94)_""%PBMHIS"")^DESSINE UN HISTOGRAMME^HISTO EST LA STRUCTURE QUI CONTIENT TOUTES LES INFOS^HISTO(""COL"",<numero de colonne>) = L'ORDONNEE DU SOMMET DE LA COLONNE^HISTO(""COL"",<numero de colonne>,""TEXT"") = LE TEXTE DE BAS DE COLONNE^HISTO(""NBCOL"") = LE NOMBRE DE COLONNES^HISTO(""HAUTEUR-MAX"") = L'ORDONNEE MAXIMUM DES COLONNES^HISTO(""TEXT"",<numero de ligne>) = LE TEXTE DES LIGNES EN HAUT DE PAGE^HISTO(""TEXT"",<nl>,""POLICE""/""TYPE-CRAYON""/""COULEUR""/""TAILLE"")^"
^%ENVIRON("VT-340","INIT")="S ENVL(%TERM,""W"")=1,ENVL(%TERM,""H"")=1,ENVL(%TERM,""LTEXTMAX"")=999,ENVL(%TERM,""%PORT"")=%PORT,(ENVL(%TERM,""X""),ENVL(%TERM,""Y""))=0 D @($C(94)_""%PBP5FG"") W *27,8,*31,!^INITIALISATION DE L'ECRAN PT-100G^%PORT = PORTE DE L'ECRAN (EN GENERAL 0), %TERM=""PBPZ-100G""^%9NCO = NOMBRE DE COLONNES (OPTIONNEL), 1 PAR DEFAUT^%9NLI = NOMBRE DE LIGNES   (OPTIONNEL), 1 PAR DEFAUT^POSITION INITIALE DU CRAYON : (0,0)^^^^^"
^%ENVIRON("VT-340","LBREL")="D @($C(94)_""%PBP5LB"")^DESSINE UNE LIGNE BRISEE EN COORDONNEES RELATIVES^%9LXY= LISTE DES POINTS A ATTEINDRE^^^^^^^^"
^%ENVIRON("VT-340","LIGBRI")="D @($C(94)_""%PBP5LBR"")^DESSINE UNE LIGNE BRISEE DANS LA FENETRE COURANTE^%9LXY = LISTE DES COORDONNEES DES POINTS SUCCESSIFS DE LA LIGNE BRISEE^^^^^^^^"
^%ENVIRON("VT-340","LTEXTMAX")="S ENVL(%TERM,""LTEXTMAX"")=%9LTMX^SPECIFIE LA LONGUEUR MAXIMALE DU TEXTE IMPRIME PAR^LA PRIMITIVE TEXT^^%9LTMX EST LE LONGUEUR MAX DES CHAINES IMPRIMES^%9LTMX = -1 --> PAS DE RESTRICTION TOUTE LA CHAINE EST IMPRIMEE^^^^^"
^%ENVIRON("VT-340","MOUV")="W *27,*29 D @($C(94)_""%PBP5MV"")^DEPLACEMENT ABSOLU SANS TRACAGE^%9X,%9Y = COORDONNEES DU POINT A ATTEINDRE^^^^^^^^"
^%ENVIRON("VT-340","MOUVREL")="D @($C(94)_""%PBP5MVR"")^MOUVEMENT RELATIF A LA POSITION COURANTE^%9X,%9Y = DEPLACEMENT RELATIF^^^^^^^^"
^%ENVIRON("VT-340","NORMAL")=";W *27,""OW `` @@""^^^^^^^^^^"
^%ENVIRON("VT-340","NUMERO")="D:$D(%9NO) @($C(94)_""%PBPZNO"")^IMPRESSION DU NUMERO %9NO EN HAUT A DROITE DANS LA PAGE^^^^^"
^%ENVIRON("VT-340","PLANNING")="D @($C(94)_""%PBMPLAN"")^EDITION D'UN PLANNING^^PAGE contient les infos necessaires voir ^PTPLANNI pour + de details^^^^^^^^"
^%ENVIRON("VT-340","POINT")="D @($C(94)_""%PBP1PNT"")^DESSINE UN POINT^%9X,%9Y = COORDONEES DU POINT^^^^^^^^"
^%ENVIRON("VT-340","POSER")="S ENVL(%TERM,""ETAT-CRAYON"")=""SANS-CRAYON"" W *27,*93,!^POSE LE CRAYON, OU MODE ""PBPZTOF""^AUCUN PARAMETRE^^^^^^^^"
^%ENVIRON("VT-340","PRENDRE")="S ENVL(%TERM,""ETAT-CRAYON"")=""TENU"" ;W *27,""OW `` @@"",!^PRISE DU CRAYON OU MODE ""PBPZTON""^AUCUN PARAMETRE^^^^^^^^"
^%ENVIRON("VT-340","QUARTIER")="D @($C(94)_""%PBP5QU"")^TRACE UN QUARTIER DE CERCLE^%9X,%9Y = COORDONNEES DU CENTRE DU CERCLE^%9R = RAYON DU CERCLE^%9AD = ANGLE DE DEBUT^%9AF = ANGLE DE FIN^^^^^"
^%ENVIRON("VT-340","REAFFICHAGE")="D @(""RR""_$C(94)_""%PBIMCR2"")^reaffichege de la fenetre et du dessin^^^^^^^^^"
^%ENVIRON("VT-340","RECT")="S %99LXY=%9LXY,%9LXY=%9X1_"",""_%9Y1_"",""_%9X2_"",""_%9Y1_"",""_%9X2_"",""_%9Y2_"",""_%9X1_"",""_%9Y2_"",""_%9X1_"",""_%9Y1 D @($C(94)_""%PBP5LBR"") S %9LXY=%99LXY^TRACE UN RECTANGLE^%9X1,%9Y1 = COIN EN BAS A GAUCHE DU RECTANGLE^%9X2,%9Y2 = COIN EN HAUT A DROITE DU RECTANGLE^^^^^^^"
^%ENVIRON("VT-340","RECTREL")="S %9LXY=ENVL(%TERM,""X"")_"",""_ENVL(%TERM,""Y"")_"",""_(ENVL(%TERM,""X"")+%9X)_"",""_ENVL(%TERM,""Y"")_"",""_(ENVL(%TERM,""X"")+%9X)_"",""_(ENVL(%TERM,""Y"")+%9Y)_"",""_ENVL(%TERM,""X"")_"",""_(ENVL(%TERM,""Y"")+%9Y)_"",""_ENVL(%TERM,""X"")_"",""_ENVL(%TERM,""Y"") D @($C(94)_""%PBP5LBR"")^TRACE UN RECTANGLE RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = COORDONNEES DU COIN OPPOSE (EN HAUT A DROITE) DU RECTANGLE^^^^^^^^"
^%ENVIRON("VT-340","SEG")="D @($C(94)_""%PBP5SE"") U %PORT W *27,""e""^trace d'un segment^^^^^^^^^"
^%ENVIRON("VT-340","SEGMENT")="D @($C(94)_""%PBP5SG"")^DESSINE UN SEGMENT DE DROITE DANS LA FENETRE COURANTE^%9X1,%9Y1,%9X2,%9Y2 = COORDONNEES DES DEUX EXTREMITES DU SEGMENT^^^^^^^^"
^%ENVIRON("VT-340","SEGR")="D @($C(94)_""%PBP5SER"")^trace d'un segment relatif^^^^^^^^^"
^%ENVIRON("VT-340","SEGREL")="D @($C(94)_""%PBP5SGR"")^TRACE UN SEGMENT RELATIVEMENT A LA POSITION COURANTE^%9X,%9Y = POSITION RELATIVE DE L'AUTRE EXTREMITE DU SEGMENT^^^^^^^^"
^%ENVIRON("VT-340","STANDARD")="^^^^^^^^^^"
^%ENVIRON("VT-340","TAILLE")="D:'$D(%9MOD) @($C(94)_""%PBP5TAI"") I $D(%9MOD) W:%9MOD<1 *27,"";"" W:%9MOD'<1 *27,8^MODIFIE LA TAILLE DES CARACTERES^%9MOD EST LE FACTEUR DE MODIFICATION^%9MOD<1 ---> PETITE POLICE^%9MOD'<1 --> GRANDE POLICE^IL Y A EN FAIT 4 TAILLES, 2 GRANDES ET 2 PETITES, ELLES SONT TELLEMENT^PROCHES QUE DEUX SEULEMENT ONT ETE RETENUES SUR LES 4 : LA PLUS GRANDE^(POLICE STANDARD) ET LA PLUS PETITE^^^"
^%ENVIRON("VT-340","TEXT")="W *31,$E(%9STR,1,ENVL(%TERM,""LTEXTMAX"")),!^IMPRESSION DE TEXTE A L'ECRAN^%9STR EST LE TEXTE A IMPRIMER^^^^^^^^"
^%ENVIRON("VT-340","TYPLIGNE")="I ""F.P.M.C.L""[%9TL W *27,$E(""F\PaMbCcLd"",$F(""F\PaMbCcLd"",%9TL))^SELECTIONNE LE TYPE DE LIGNE A AFFICHER^%9TL = LE TYPE DE LIGNE^F --> LIGNE PLEINE^P --> POINTILLES^C --> TRAITS COURTS + POINTS^M --> TRAITS MOYENS + POINTS^L --> TRAITS LONGS  + POINTS^^^"
